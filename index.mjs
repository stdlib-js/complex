// Copyright (c) 2025 The Stdlib Authors. License is Apache-2.0: http://www.apache.org/licenses/LICENSE-2.0
/// <reference types="./index.d.ts" />
import e from"https://cdn.jsdelivr.net/gh/stdlib-js/utils-define-read-only-property@v0.2.2-esm/index.mjs";import t from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-function@v0.2.2-esm/index.mjs";import{isPrimitive as n}from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-nonnegative-integer@v0.2.2-esm/index.mjs";import r from"https://cdn.jsdelivr.net/gh/stdlib-js/string-format@v0.2.2-esm/index.mjs";import{isPrimitive as i}from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-number@v0.2.2-esm/index.mjs";import o from"https://cdn.jsdelivr.net/gh/stdlib-js/utils-define-property@v0.2.4-esm/index.mjs";import s from"https://cdn.jsdelivr.net/gh/stdlib-js/utils-define-nonenumerable-read-only-property@v0.2.1-esm/index.mjs";import a from"https://cdn.jsdelivr.net/gh/stdlib-js/number-float64-base-to-float32@v0.2.2-esm/index.mjs";import m from"https://cdn.jsdelivr.net/gh/stdlib-js/utils-constructor-name@v0.2.2-esm/index.mjs";import u from"https://cdn.jsdelivr.net/gh/stdlib-js/array-float32@v0.2.2-esm/index.mjs";import l from"https://cdn.jsdelivr.net/gh/stdlib-js/number-float32-base-assert-is-same-value@esm/index.mjs";import p from"https://cdn.jsdelivr.net/gh/stdlib-js/number-float32-base-assert-is-same-value-zero@esm/index.mjs";import c from"https://cdn.jsdelivr.net/gh/stdlib-js/number-float64-base-to-float32@esm/index.mjs";import{isPrimitive as f}from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-string@v0.2.2-esm/index.mjs";import d from"https://cdn.jsdelivr.net/gh/stdlib-js/string-base-replace@v0.2.2-esm/index.mjs";import v from"https://cdn.jsdelivr.net/gh/stdlib-js/array-float64@v0.2.2-esm/index.mjs";import x from"https://cdn.jsdelivr.net/gh/stdlib-js/number-float64-base-assert-is-same-value@esm/index.mjs";import h from"https://cdn.jsdelivr.net/gh/stdlib-js/number-float64-base-assert-is-same-value-zero@esm/index.mjs";import w from"https://cdn.jsdelivr.net/gh/stdlib-js/utils-keys@v0.2.2-esm/index.mjs";import g from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-has-own-property@v0.2.2-esm/index.mjs";var y="number";var b="number";var j={};function E(e,t){if(!(this instanceof E))throw new TypeError("invalid invocation. Constructor must be called with the `new` keyword.");if(!i(e))throw new TypeError(r("invalid argument. Real component must be a number. Value: `%s`.",e));if(!i(t))throw new TypeError(r("invalid argument. Imaginary component must be a number. Value: `%s`.",t));return o(this,"re",{configurable:!1,enumerable:!0,writable:!1,value:a(e)}),o(this,"im",{configurable:!1,enumerable:!0,writable:!1,value:a(t)}),this}function T(e,t){if(!(this instanceof T))throw new TypeError("invalid invocation. Constructor must be called with the `new` keyword.");if(!i(e))throw new TypeError(r("invalid argument. Real component must be a number. Value: `%s`.",e));if(!i(t))throw new TypeError(r("invalid argument. Imaginary component must be a number. Value: `%s`.",t));return o(this,"re",{configurable:!1,enumerable:!0,writable:!1,value:e}),o(this,"im",{configurable:!1,enumerable:!0,writable:!1,value:t}),this}e(j,"cast",(function(e,i,o){if(!t(e))throw new TypeError(r("invalid argument. First argument must be a function. Value: `%s`.",e));if(!n(i))throw new TypeError(r("invalid argument. Second argument must be a nonnegative integer. Value: `%s`.",i));if(!t(o))throw new TypeError(r("invalid argument. Third argument must be a constructor function. Value: `%s`.",o));return i<=5?[function(){var t=e();if(typeof t===y)return new o(t,0);return t},function(t){var n=e(t);if(typeof n===y)return new o(n,0);return n},function(t,n){var r=e(t,n);if(typeof r===y)return new o(r,0);return r},function(t,n,r){var i=e(t,n,r);if(typeof i===y)return new o(i,0);return i},function(t,n,r,i){var s=e(t,n,r,i);if(typeof s===y)return new o(s,0);return s},function(t,n,r,i,s){var a=e(t,n,r,i,s);if(typeof a===y)return new o(a,0);return a}][i]:function(){var t,n,r;for(t=[],r=0;r<arguments.length;r++)t.push(arguments[r]);if(typeof(n=e.apply(null,t))===y)return new o(n,0);return n}})),e(j,"wrap",(function(e,i,o){if(!t(e))throw new TypeError(r("invalid argument. First argument must be a function. Value: `%s`.",e));if(!n(i))throw new TypeError(r("invalid argument. Second argument must be a nonnegative integer. Value: `%s`.",i));if(!t(o))throw new TypeError(r("invalid argument. Third argument must be a constructor function. Value: `%s`.",o));return i<=5?[function(){return e()},function(t){typeof t===b&&(t=new o(t,0));return e(t)},function(t,n){typeof t===b&&(t=new o(t,0));typeof n===b&&(n=new o(n,0));return e(t,n)},function(t,n,r){typeof t===b&&(t=new o(t,0));typeof n===b&&(n=new o(n,0));typeof r===b&&(r=new o(r,0));return e(t,n,r)},function(t,n,r,i){typeof t===b&&(t=new o(t,0));typeof n===b&&(n=new o(n,0));typeof r===b&&(r=new o(r,0));typeof i===b&&(i=new o(i,0));return e(t,n,r,i)},function(t,n,r,i,s){typeof t===b&&(t=new o(t,0));typeof n===b&&(n=new o(n,0));typeof r===b&&(r=new o(r,0));typeof i===b&&(i=new o(i,0));typeof s===b&&(s=new o(s,0));return e(t,n,r,i,s)}][i]:function(){var t,n,r;for(t=[],r=0;r<arguments.length;r++)typeof(n=arguments[r])===b&&(n=new o(n,0)),t.push(n);return e.apply(null,t)}})),s(E,"BYTES_PER_ELEMENT",4),s(E.prototype,"BYTES_PER_ELEMENT",4),s(E.prototype,"byteLength",8),s(E.prototype,"toString",(function(){var e=""+this.re;return this.im<0?e+=" - "+-this.im:e+=" + "+this.im,e+="i"})),s(E.prototype,"toJSON",(function(){var e={type:"Complex64"};return e.re=this.re,e.im=this.im,e})),s(T,"BYTES_PER_ELEMENT",8),s(T.prototype,"BYTES_PER_ELEMENT",8),s(T.prototype,"byteLength",16),s(T.prototype,"toString",(function(){var e=""+this.re;return this.im<0?e+=" - "+-this.im:e+=" + "+this.im,e+="i"})),s(T.prototype,"toJSON",(function(){var e={type:"Complex128"};return e.re=this.re,e.im=this.im,e}));var V={complex64:E,complex128:T};function C(e){return V[e]||null}var N={float64:"complex128",float32:"complex64"},S=C(N.float64);function F(e,t,n){var i;if(arguments.length>2){if(i=C(N[n]))return new i(e,t);throw new TypeError(r("invalid argument. Must provide a recognized data type. Value: `%s`.",n))}return new S(e,t)}var _={Complex64:"complex64",Complex128:"complex128"},R=["complex64","complex128"];function I(){return R.slice()}var L,P=I(),$=[];for(L=0;L<P.length;L++)$.push(C(P[L]));var M=P.length;function q(e){var t;for(t=0;t<M;t++)if(e instanceof $[t])return P[t];return _[m(e)]||null}function B(e){return e.re}function W(e){return e.im}function Y(e){var t=new u(2);return t[0]=e.re,t[1]=e.im,t}var k={};function z(e,t){var n=B(e),r=B(t),i=W(e),o=W(t),s=a(n*r)-a(i*o),m=a(n*o)+a(i*r);return new E(a(s),a(m))}e(k,"isEqual",(function(e,t){var n=Y(e),r=Y(t);return n[0]===r[0]&&n[1]===r[1]})),e(k,"isNotEqual",(function(e,t){var n=Y(e),r=Y(t);return n[0]!==r[0]||n[1]!==r[1]})),e(k,"isSameValue",(function(e,t){var n=Y(e),r=Y(t);return l(n[0],r[0])&&l(n[1],r[1])})),e(k,"isSameValueZero",(function(e,t){var n=Y(e),r=Y(t);return p(n[0],r[0])&&p(n[1],r[1])})),s(z,"assign",(function(e,t,n,r,i,o,s){return i[s]=c(e*n)-c(t*r),i[s+o]=c(e*r)+c(t*n),i})),s(z,"strided",(function(e,t,n,r,i,o,s,m,u){var l=e[n],p=e[n+t],c=r[o],f=r[o+i];return s[u]=a(l*c)-a(p*f),s[u+m]=a(l*f)+a(p*c),s}));var J={};e(J,"add",(function(e,t){return new E(a(B(e)+B(t)),a(W(e)+W(t)))})),e(J,"assert",k),e(J,"mul",z);var O={};function U(e){return e.re}function Z(e){return e.im}function A(e,t){return new T(U(e)+U(t),Z(e)+Z(t))}function D(e){var t=new v(2);return t[0]=e.re,t[1]=e.im,t}e(O,"base",J),e(O,"conj",(function(e){return new e.constructor(e.re,-e.im)})),e(O,"Complex64",E),e(O,"imag",W),e(O,"parseComplex64",(function(e){var t,n,i=0;if(!f(e))throw new TypeError(r("invalid argument. First argument must be a string. Value: `%s`.",e));if(!(t=d(e,/\s/g,"").match(/^([-+]?(\d*\.?\d*(?:[eE][-+]?\d+)?|Infinity|NaN)i?)?([-+])?((\d*\.?\d*(?:[eE][-+]?\d+)?|Infinity|NaN)i)?$/)))throw new Error(r("invalid argument. Unable to parse input string as a complex number. Value: `%s`.",e));return n=t[1]&&!t[1].endsWith("i")?parseFloat(t[1]):0,t[4]?i=("-"===t[3]?-1:1)*parseFloat(d(t[4],/i$/,"")):t[1]&&t[1].endsWith("i")&&(i=parseFloat(d(t[1],/i$/,""))),new E(n,i)})),e(O,"real",B),e(O,"reim",Y),e(O,"reviveComplex64",(function(e,t){return t&&t.type&&"Complex64"===t.type&&i(t.re)&&i(t.im)?new E(t.re,t.im):t})),s(A,"assign",(function(e,t,n,r,i,o,s){return i[s]=e+n,i[s+o]=t+r,i})),s(A,"strided",(function(e,t,n,r,i,o,s,a,m){return s[m]=e[n]+r[o],s[m+a]=e[n+t]+r[o+i],s}));var G={};function H(e,t){var n=U(e),r=U(t),i=Z(e),o=Z(t);return new T(n*r-i*o,n*o+i*r)}function K(e,t,n){var r=U(e),i=Z(e),o=U(t),s=Z(t);return new T(r*o-i*s+U(n),r*s+i*o+Z(n))}function Q(e,t){return new T(U(t)*e,Z(t)*e)}e(G,"isEqual",(function(e,t){var n=D(e),r=D(t);return n[0]===r[0]&&n[1]===r[1]})),e(G,"isNotEqual",(function(e,t){var n=D(e),r=D(t);return n[0]!==r[0]||n[1]!==r[1]})),e(G,"isSameValue",(function(e,t){var n=D(e),r=D(t);return x(n[0],r[0])&&x(n[1],r[1])})),e(G,"isSameValueZero",(function(e,t){var n=D(e),r=D(t);return h(n[0],r[0])&&h(n[1],r[1])})),s(H,"assign",(function(e,t,n,r,i,o,s){return i[s]=e*n-t*r,i[s+o]=e*r+t*n,i})),s(H,"strided",(function(e,t,n,r,i,o,s,a,m){var u=e[n],l=e[n+t],p=r[o],c=r[o+i];return s[m]=u*p-l*c,s[m+a]=u*c+l*p,s})),s(K,"assign",(function(e,t,n,r,i,o,s,a,m){return s[m]=e*n-t*r+i,s[m+a]=e*r+t*n+o,s})),s(K,"strided",(function(e,t,n,r,i,o,s,a,m,u,l,p){var c=e[n],f=e[n+t],d=r[o],v=r[o+i],x=s[m],h=s[m+a];return u[p]=c*d-f*v+x,u[p+l]=c*v+f*d+h,u})),s(Q,"assign",(function(e,t,n,r,i,o){return r[o]=t*e,r[o+i]=n*e,r})),s(Q,"strided",(function(e,t,n,r,i,o,s){return i[s]=e*t[r],i[s+o]=e*t[r+n],i}));var X={};e(X,"add",A),e(X,"assert",G),e(X,"mul",H),e(X,"muladd",K),e(X,"scale",Q);var ee={};e(ee,"base",X),e(ee,"conj",(function(e){return new e.constructor(e.re,-e.im)})),e(ee,"Complex128",T),e(ee,"imag",Z),e(ee,"parseComplex128",(function(e){var t,n,i=0;if(!f(e))throw new TypeError(r("invalid argument. First argument must be a string. Value: `%s`.",e));if(!(t=d(e,/\s/g,"").match(/^([-+]?(\d*\.?\d*(?:[eE][-+]?\d+)?|Infinity|NaN)i?)?([-+])?((\d*\.?\d*(?:[eE][-+]?\d+)?|Infinity|NaN)i)?$/)))throw new Error(r("invalid argument. Unable to parse input string as a complex number. Value: `%s`.",e));return n=t[1]&&!t[1].endsWith("i")?parseFloat(t[1]):0,t[4]?i=("-"===t[3]?-1:1)*parseFloat(d(t[4],/i$/,"")):t[1]&&t[1].endsWith("i")&&(i=parseFloat(d(t[1],/i$/,""))),new T(n,i)})),e(ee,"real",U),e(ee,"reim",D),e(ee,"reviveComplex128",(function(e,t){return t&&t.type&&"Complex128"===t.type&&i(t.re)&&i(t.im)?new T(t.re,t.im):t}));var te={float64:{complex64:"complex128",complex128:"complex128"},float32:{complex64:"complex64",complex128:"complex128"},int32:{complex64:"complex128",complex128:"complex128"},int16:{complex64:"complex64",complex128:"complex128"},int8:{complex64:"complex64",complex128:"complex128"},uint32:{complex64:"complex128",complex128:"complex128"},uint16:{complex64:"complex64",complex128:"complex128"},uint8:{complex64:"complex64",complex128:"complex128"},uint8c:{complex64:"complex64",complex128:"complex128"},complex128:{float64:"complex128",float32:"complex128",int32:"complex128",int16:"complex128",int8:"complex128",uint32:"complex128",uint16:"complex128",uint8:"complex128",uint8c:"complex128",complex64:"complex128",complex128:"complex128"},complex64:{float64:"complex128",float32:"complex64",int32:"complex128",int16:"complex64",int8:"complex64",uint32:"complex128",uint16:"complex64",uint8:"complex64",uint8c:"complex64",complex64:"complex64",complex128:"complex128"}};function ne(e,t){var n;return 0===arguments.length?function(){var e,t,n,r,i,o,s,a,m;for(n={},t=(e=w(te)).length,m=0;m<t;m++){for(i=e[m],s=te[i],r={},a=0;a<t;a++)r[o=e[a]]=s[o];n[i]=r}return n}():g(te,e)&&(n=te[e],g(n,t))?n[t]:null}var re={Complex128:T,Complex64:E};function ie(e,t){var n;return t&&t.type&&i(t.re)&&i(t.im)&&(n=re[t.type])?new n(t.re,t.im):t}var oe={};e(oe,"base",j),e(oe,"complex",F),e(oe,"ctors",C),e(oe,"dtype",q),e(oe,"dtypes",I),e(oe,"float32",O),e(oe,"float64",ee),e(oe,"promotionRules",ne),e(oe,"reviveComplex",ie);export{j as base,F as complex,C as ctors,oe as default,q as dtype,I as dtypes,O as float32,ee as float64,ne as promotionRules,ie as reviveComplex};
//# sourceMappingURL=index.mjs.map
