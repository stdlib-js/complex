// Copyright (c) 2025 The Stdlib Authors. License is Apache-2.0: http://www.apache.org/licenses/LICENSE-2.0
/// <reference types="./index.d.ts" />
import e from"https://cdn.jsdelivr.net/gh/stdlib-js/utils-define-read-only-property@v0.2.2-esm/index.mjs";import t from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-function@v0.2.2-esm/index.mjs";import{isPrimitive as n}from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-nonnegative-integer@v0.2.2-esm/index.mjs";import r from"https://cdn.jsdelivr.net/gh/stdlib-js/string-format@v0.2.2-esm/index.mjs";import i from"https://cdn.jsdelivr.net/gh/stdlib-js/string-replace@v0.2.2-esm/index.mjs";import o from"https://cdn.jsdelivr.net/gh/stdlib-js/number-ctor@v0.2.2-esm/index.mjs";import{isPrimitive as s}from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-number@v0.2.2-esm/index.mjs";import a from"https://cdn.jsdelivr.net/gh/stdlib-js/utils-define-property@v0.2.4-esm/index.mjs";import m from"https://cdn.jsdelivr.net/gh/stdlib-js/utils-define-nonenumerable-read-only-property@v0.2.1-esm/index.mjs";import u from"https://cdn.jsdelivr.net/gh/stdlib-js/number-float64-base-to-float32@v0.2.2-esm/index.mjs";import l from"https://cdn.jsdelivr.net/gh/stdlib-js/utils-constructor-name@v0.2.2-esm/index.mjs";import p from"https://cdn.jsdelivr.net/gh/stdlib-js/number-float64-base-to-float32@esm/index.mjs";import c from"https://cdn.jsdelivr.net/gh/stdlib-js/number-float32-base-assert-is-almost-equal@esm/index.mjs";import f from"https://cdn.jsdelivr.net/gh/stdlib-js/array-float32@v0.2.2-esm/index.mjs";import d from"https://cdn.jsdelivr.net/gh/stdlib-js/number-float32-base-assert-is-almost-same-value@esm/index.mjs";import v from"https://cdn.jsdelivr.net/gh/stdlib-js/number-float32-base-assert-is-same-value@esm/index.mjs";import h from"https://cdn.jsdelivr.net/gh/stdlib-js/number-float32-base-assert-is-same-value-zero@esm/index.mjs";import{isPrimitive as x}from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-string@v0.2.2-esm/index.mjs";import g from"https://cdn.jsdelivr.net/gh/stdlib-js/string-base-replace@v0.2.2-esm/index.mjs";import b from"https://cdn.jsdelivr.net/gh/stdlib-js/number-float64-base-assert-is-almost-equal@esm/index.mjs";import j from"https://cdn.jsdelivr.net/gh/stdlib-js/array-float64@v0.2.2-esm/index.mjs";import w from"https://cdn.jsdelivr.net/gh/stdlib-js/number-float64-base-assert-is-almost-same-value@esm/index.mjs";import y from"https://cdn.jsdelivr.net/gh/stdlib-js/number-float64-base-assert-is-same-value@esm/index.mjs";import E from"https://cdn.jsdelivr.net/gh/stdlib-js/number-float64-base-assert-is-same-value-zero@esm/index.mjs";import T from"https://cdn.jsdelivr.net/gh/stdlib-js/array-float64@esm/index.mjs";import N from"https://cdn.jsdelivr.net/gh/stdlib-js/math-base-special-abs@esm/index.mjs";import V from"https://cdn.jsdelivr.net/gh/stdlib-js/math-base-special-max@esm/index.mjs";import C from"https://cdn.jsdelivr.net/gh/stdlib-js/constants-float64-max@esm/index.mjs";import S from"https://cdn.jsdelivr.net/gh/stdlib-js/constants-float64-smallest-normal@esm/index.mjs";import F from"https://cdn.jsdelivr.net/gh/stdlib-js/constants-float64-eps@esm/index.mjs";import q from"https://cdn.jsdelivr.net/gh/stdlib-js/utils-keys@v0.2.2-esm/index.mjs";import _ from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-has-own-property@v0.2.2-esm/index.mjs";var R="number";var I="number";var L={};function P(e,t){if(!(this instanceof P))throw new TypeError("invalid invocation. Constructor must be called with the `new` keyword.");if(!s(e))throw new TypeError(r("invalid argument. Real component must be a number. Value: `%s`.",e));if(!s(t))throw new TypeError(r("invalid argument. Imaginary component must be a number. Value: `%s`.",t));return a(this,"re",{configurable:!1,enumerable:!0,writable:!1,value:u(e)}),a(this,"im",{configurable:!1,enumerable:!0,writable:!1,value:u(t)}),this}function $(e,t){if(!(this instanceof $))throw new TypeError("invalid invocation. Constructor must be called with the `new` keyword.");if(!s(e))throw new TypeError(r("invalid argument. Real component must be a number. Value: `%s`.",e));if(!s(t))throw new TypeError(r("invalid argument. Imaginary component must be a number. Value: `%s`.",t));return a(this,"re",{configurable:!1,enumerable:!0,writable:!1,value:e}),a(this,"im",{configurable:!1,enumerable:!0,writable:!1,value:t}),this}e(L,"cast",(function(e,i,o){if(!t(e))throw new TypeError(r("invalid argument. First argument must be a function. Value: `%s`.",e));if(!n(i))throw new TypeError(r("invalid argument. Second argument must be a nonnegative integer. Value: `%s`.",i));if(!t(o))throw new TypeError(r("invalid argument. Third argument must be a constructor function. Value: `%s`.",o));return i<=5?[function(){var t=e();if(typeof t===R)return new o(t,0);return t},function(t){var n=e(t);if(typeof n===R)return new o(n,0);return n},function(t,n){var r=e(t,n);if(typeof r===R)return new o(r,0);return r},function(t,n,r){var i=e(t,n,r);if(typeof i===R)return new o(i,0);return i},function(t,n,r,i){var s=e(t,n,r,i);if(typeof s===R)return new o(s,0);return s},function(t,n,r,i,s){var a=e(t,n,r,i,s);if(typeof a===R)return new o(a,0);return a}][i]:function(){var t,n,r;for(t=[],r=0;r<arguments.length;r++)t.push(arguments[r]);if(typeof(n=e.apply(null,t))===R)return new o(n,0);return n}})),e(L,"parse",(function(e){var t,n,r,s,a=[],m="",u=[],l=[],p=!0,c=0,f=0;if("string"!=typeof e)return null;for(e=i(e," ",""),s=0;s<e.length;s++)"+"!==e[s]&&"-"!==e[s]||0===s||"e"===e[s-1]?s===e.length-1&&(m+=e[s],l.push(m)):(l.push(m),m=""),m+=e[s];for(s=0;s<l.length;s++){if(t=!1,"i"===(r=l[s])[0]?(r=r.slice(1),t=!0):"i"===r[r.length-1]&&(r=r.slice(0,r.length-1),t=!0),n=o(r),isNaN(n)&&"NaN"!==r&&"+NaN"!==r&&"-NaN"!==r){p=!1;break}t?a.push(n):u.push(n)}if(!p)return null;for(s=0;s<u.length;s++)c+=u[s];for(s=0;s<a.length;s++)f+=a[s];return{re:c,im:f}})),e(L,"wrap",(function(e,i,o){if(!t(e))throw new TypeError(r("invalid argument. First argument must be a function. Value: `%s`.",e));if(!n(i))throw new TypeError(r("invalid argument. Second argument must be a nonnegative integer. Value: `%s`.",i));if(!t(o))throw new TypeError(r("invalid argument. Third argument must be a constructor function. Value: `%s`.",o));return i<=5?[function(){return e()},function(t){typeof t===I&&(t=new o(t,0));return e(t)},function(t,n){typeof t===I&&(t=new o(t,0));typeof n===I&&(n=new o(n,0));return e(t,n)},function(t,n,r){typeof t===I&&(t=new o(t,0));typeof n===I&&(n=new o(n,0));typeof r===I&&(r=new o(r,0));return e(t,n,r)},function(t,n,r,i){typeof t===I&&(t=new o(t,0));typeof n===I&&(n=new o(n,0));typeof r===I&&(r=new o(r,0));typeof i===I&&(i=new o(i,0));return e(t,n,r,i)},function(t,n,r,i,s){typeof t===I&&(t=new o(t,0));typeof n===I&&(n=new o(n,0));typeof r===I&&(r=new o(r,0));typeof i===I&&(i=new o(i,0));typeof s===I&&(s=new o(s,0));return e(t,n,r,i,s)}][i]:function(){var t,n,r;for(t=[],r=0;r<arguments.length;r++)typeof(n=arguments[r])===I&&(n=new o(n,0)),t.push(n);return e.apply(null,t)}})),m(P,"BYTES_PER_ELEMENT",4),m(P.prototype,"BYTES_PER_ELEMENT",4),m(P.prototype,"byteLength",8),m(P.prototype,"toString",(function(){var e=""+this.re;return this.im<0?e+=" - "+-this.im:e+=" + "+this.im,e+="i"})),m(P.prototype,"toJSON",(function(){var e={type:"Complex64"};return e.re=this.re,e.im=this.im,e})),m($,"BYTES_PER_ELEMENT",8),m($.prototype,"BYTES_PER_ELEMENT",8),m($.prototype,"byteLength",16),m($.prototype,"toString",(function(){var e=""+this.re;return this.im<0?e+=" - "+-this.im:e+=" + "+this.im,e+="i"})),m($.prototype,"toJSON",(function(){var e={type:"Complex128"};return e.re=this.re,e.im=this.im,e}));var M={complex64:P,complex128:$};function k(e){return M[e]||null}var A={float64:"complex128",float32:"complex64"},B=k(A.float64);function W(e,t,n){var i;if(arguments.length>2){if(i=k(A[n]))return new i(e,t);throw new TypeError(r("invalid argument. Must provide a recognized data type. Value: `%s`.",n))}return new B(e,t)}var Y={Complex64:"complex64",Complex128:"complex128"},z=["complex64","complex128"];function J(){return z.slice()}var O,U=J(),Z=[];for(O=0;O<U.length;O++)Z.push(k(U[O]));var D=U.length;function G(e){var t;for(t=0;t<D;t++)if(e instanceof Z[t])return U[t];return Y[l(e)]||null}function H(e){return e.re}function K(e){return e.im}function Q(e,t){return new P(p(H(e)+H(t)),p(K(e)+K(t)))}function X(e){var t=new f(2);return t[0]=e.re,t[1]=e.im,t}m(Q,"assign",(function(e,t,n,r,i,o,s){return i[s]=u(e+n),i[s+o]=u(t+r),i})),m(Q,"strided",(function(e,t,n,r,i,o,s,a,m){return s[m]=u(e[n]+r[o]),s[m+a]=u(e[n+t]+r[o+i]),s}));var ee={};function te(e,t){var n=H(e),r=H(t),i=K(e),o=K(t),s=u(n*r)-u(i*o),a=u(n*o)+u(i*r);return new P(u(s),u(a))}function ne(e,t){return new P(u(H(t)*e),u(K(t)*e))}e(ee,"isAlmostEqual",(function(e,t,n){var r=X(e),i=X(t);return c(r[0],i[0],n)&&c(r[1],i[1],n)})),e(ee,"isAlmostSameValue",(function(e,t,n){var r=X(e),i=X(t);return d(r[0],i[0],n)&&d(r[1],i[1],n)})),e(ee,"isEqual",(function(e,t){var n=X(e),r=X(t);return n[0]===r[0]&&n[1]===r[1]})),e(ee,"isNotEqual",(function(e,t){var n=X(e),r=X(t);return n[0]!==r[0]||n[1]!==r[1]})),e(ee,"isSameValue",(function(e,t){var n=X(e),r=X(t);return v(n[0],r[0])&&v(n[1],r[1])})),e(ee,"isSameValueZero",(function(e,t){var n=X(e),r=X(t);return h(n[0],r[0])&&h(n[1],r[1])})),m(te,"assign",(function(e,t,n,r,i,o,s){return i[s]=u(e*n)-u(t*r),i[s+o]=u(e*r)+u(t*n),i})),m(te,"strided",(function(e,t,n,r,i,o,s,a,m){var l=e[n],p=e[n+t],c=r[o],f=r[o+i];return s[m]=u(l*c)-u(p*f),s[m+a]=u(l*f)+u(p*c),s})),m(ne,"assign",(function(e,t,n,r,i,o){return r[o]=u(t*e),r[o+i]=u(n*e),r})),m(ne,"strided",(function(e,t,n,r,i,o,s){return i[s]=u(e*t[r]),i[s+o]=u(e*t[r+n]),i}));var re={};e(re,"add",Q),e(re,"assert",ee),e(re,"identity",(function(e){return e})),e(re,"mul",te),e(re,"neg",(function(e){return new P(-H(e),-K(e))})),e(re,"scale",ne),e(re,"sub",(function(e,t){return new P(u(H(e)-H(t)),u(K(e)-K(t)))}));var ie={};function oe(e){return e.re}function se(e){return e.im}function ae(e,t){return new $(oe(e)+oe(t),se(e)+se(t))}function me(e){var t=new j(2);return t[0]=e.re,t[1]=e.im,t}e(ie,"base",re),e(ie,"conj",(function(e){return new e.constructor(e.re,-e.im)})),e(ie,"Complex64",P),e(ie,"imag",K),e(ie,"parseComplex64",(function(e){var t,n,i=0;if(!x(e))throw new TypeError(r("invalid argument. First argument must be a string. Value: `%s`.",e));if(!(t=g(e,/\s/g,"").match(/^([-+]?(\d*\.?\d*(?:[eE][-+]?\d+)?|Infinity|NaN)i?)?([-+])?((\d*\.?\d*(?:[eE][-+]?\d+)?|Infinity|NaN)i)?$/)))throw new Error(r("invalid argument. Unable to parse input string as a complex number. Value: `%s`.",e));return n=t[1]&&!t[1].endsWith("i")?parseFloat(t[1]):0,t[4]?i=("-"===t[3]?-1:1)*parseFloat(g(t[4],/i$/,"")):t[1]&&t[1].endsWith("i")&&(i=parseFloat(g(t[1],/i$/,""))),new P(n,i)})),e(ie,"real",H),e(ie,"reim",X),e(ie,"reviveComplex64",(function(e,t){return t&&t.type&&"Complex64"===t.type&&s(t.re)&&s(t.im)?new P(t.re,t.im):t})),m(ae,"assign",(function(e,t,n,r,i,o,s){return i[s]=e+n,i[s+o]=t+r,i})),m(ae,"strided",(function(e,t,n,r,i,o,s,a,m){return s[m]=e[n]+r[o],s[m+a]=e[n+t]+r[o+i],s}));var ue={};function le(e,t,n,r,i,o){var s;return 0===i?(e+r*(t/n))*o:0===(s=t*i)?e*o+t*o*i:(e+s)*o}function pe(e,t,n,r){var i,o,s;return s=1/(n+r*(o=r/n)),(i=[0,0])[0]=le(e,t,n,r,o,s),i[1]=le(t,-e,n,r,o,s),i}e(ue,"isAlmostEqual",(function(e,t,n){var r=me(e),i=me(t);return b(r[0],i[0],n)&&b(r[1],i[1],n)})),e(ue,"isAlmostSameValue",(function(e,t,n){var r=me(e),i=me(t);return w(r[0],i[0],n)&&w(r[1],i[1],n)})),e(ue,"isEqual",(function(e,t){var n=me(e),r=me(t);return n[0]===r[0]&&n[1]===r[1]})),e(ue,"isNotEqual",(function(e,t){var n=me(e),r=me(t);return n[0]!==r[0]||n[1]!==r[1]})),e(ue,"isSameValue",(function(e,t){var n=me(e),r=me(t);return y(n[0],r[0])&&y(n[1],r[1])})),e(ue,"isSameValueZero",(function(e,t){var n=me(e),r=me(t);return E(n[0],r[0])&&E(n[1],r[1])}));var ce=.5*C,fe=S*(2/F),de=2/(F*F);function ve(e,t,n,r,i,o,s){var a,m,u,l;return m=V(N(e),N(t)),u=V(N(n),N(r)),l=1,m>=ce?(e*=.5,t*=.5,l*=2):m<=fe&&(e*=de,t*=de,l/=de),u>=ce?(n*=.5,r*=.5,l*=.5):u<=fe&&(n*=de,r*=de,l*=de),N(r)<=N(n)?a=pe(e,t,n,r):(a=pe(t,e,r,n))[1]*=-1,a[0]*=l,a[1]*=l,i[s]=a[0],i[s+o]=a[1],i}var he=new T(2);function xe(e,t){var n,r,i,o;return n=oe(e),r=oe(t),i=se(e),o=se(t),new $((he=ve(n,i,r,o,he,1,0))[0],he[1])}function ge(e,t){var n=oe(e),r=oe(t),i=se(e),o=se(t);return new $(n*r-i*o,n*o+i*r)}function be(e,t,n){var r=oe(e),i=se(e),o=oe(t),s=se(t);return new $(r*o-i*s+oe(n),r*s+i*o+se(n))}function je(e,t){return new $(oe(t)*e,se(t)*e)}m(xe,"assign",ve),m(xe,"strided",(function(e,t,n,r,i,o,s,a,m){return ve(e[n],e[n+t],r[o],r[o+i],s,a,m)})),m(ge,"assign",(function(e,t,n,r,i,o,s){return i[s]=e*n-t*r,i[s+o]=e*r+t*n,i})),m(ge,"strided",(function(e,t,n,r,i,o,s,a,m){var u=e[n],l=e[n+t],p=r[o],c=r[o+i];return s[m]=u*p-l*c,s[m+a]=u*c+l*p,s})),m(be,"assign",(function(e,t,n,r,i,o,s,a,m){return s[m]=e*n-t*r+i,s[m+a]=e*r+t*n+o,s})),m(be,"strided",(function(e,t,n,r,i,o,s,a,m,u,l,p){var c=e[n],f=e[n+t],d=r[o],v=r[o+i],h=s[m],x=s[m+a];return u[p]=c*d-f*v+h,u[p+l]=c*v+f*d+x,u})),m(je,"assign",(function(e,t,n,r,i,o){return r[o]=t*e,r[o+i]=n*e,r})),m(je,"strided",(function(e,t,n,r,i,o,s){return i[s]=e*t[r],i[s+o]=e*t[r+n],i}));var we={};e(we,"add",ae),e(we,"assert",ue),e(we,"div",xe),e(we,"identity",(function(e){return e})),e(we,"mul",ge),e(we,"muladd",be),e(we,"neg",(function(e){return new $(-oe(e),-se(e))})),e(we,"scale",je),e(we,"sub",(function(e,t){return new $(oe(e)-oe(t),se(e)-se(t))}));var ye={};e(ye,"base",we),e(ye,"conj",(function(e){return new $(oe(e),-se(e))})),e(ye,"Complex128",$),e(ye,"imag",se),e(ye,"parseComplex128",(function(e){var t,n,i=0;if(!x(e))throw new TypeError(r("invalid argument. First argument must be a string. Value: `%s`.",e));if(!(t=g(e,/\s/g,"").match(/^([-+]?(\d*\.?\d*(?:[eE][-+]?\d+)?|Infinity|NaN)i?)?([-+])?((\d*\.?\d*(?:[eE][-+]?\d+)?|Infinity|NaN)i)?$/)))throw new Error(r("invalid argument. Unable to parse input string as a complex number. Value: `%s`.",e));return n=t[1]&&!t[1].endsWith("i")?parseFloat(t[1]):0,t[4]?i=("-"===t[3]?-1:1)*parseFloat(g(t[4],/i$/,"")):t[1]&&t[1].endsWith("i")&&(i=parseFloat(g(t[1],/i$/,""))),new $(n,i)})),e(ye,"real",oe),e(ye,"reim",me),e(ye,"reviveComplex128",(function(e,t){return t&&t.type&&"Complex128"===t.type&&s(t.re)&&s(t.im)?new $(t.re,t.im):t}));var Ee={float64:{complex64:"complex128",complex128:"complex128"},float32:{complex64:"complex64",complex128:"complex128"},int32:{complex64:"complex128",complex128:"complex128"},int16:{complex64:"complex64",complex128:"complex128"},int8:{complex64:"complex64",complex128:"complex128"},uint32:{complex64:"complex128",complex128:"complex128"},uint16:{complex64:"complex64",complex128:"complex128"},uint8:{complex64:"complex64",complex128:"complex128"},uint8c:{complex64:"complex64",complex128:"complex128"},complex128:{float64:"complex128",float32:"complex128",int32:"complex128",int16:"complex128",int8:"complex128",uint32:"complex128",uint16:"complex128",uint8:"complex128",uint8c:"complex128",complex64:"complex128",complex128:"complex128"},complex64:{float64:"complex128",float32:"complex64",int32:"complex128",int16:"complex64",int8:"complex64",uint32:"complex128",uint16:"complex64",uint8:"complex64",uint8c:"complex64",complex64:"complex64",complex128:"complex128"}};function Te(e,t){var n;return 0===arguments.length?function(){var e,t,n,r,i,o,s,a,m;for(n={},t=(e=q(Ee)).length,m=0;m<t;m++){for(i=e[m],s=Ee[i],r={},a=0;a<t;a++)r[o=e[a]]=s[o];n[i]=r}return n}():_(Ee,e)&&(n=Ee[e],_(n,t))?n[t]:null}var Ne={Complex128:$,Complex64:P};function Ve(e,t){var n;return t&&t.type&&s(t.re)&&s(t.im)&&(n=Ne[t.type])?new n(t.re,t.im):t}var Ce={};e(Ce,"base",L),e(Ce,"complex",W),e(Ce,"ctors",k),e(Ce,"dtype",G),e(Ce,"dtypes",J),e(Ce,"float32",ie),e(Ce,"float64",ye),e(Ce,"promotionRules",Te),e(Ce,"reviveComplex",Ve);export{L as base,W as complex,k as ctors,Ce as default,G as dtype,J as dtypes,ie as float32,ye as float64,Te as promotionRules,Ve as reviveComplex};
//# sourceMappingURL=index.mjs.map
