// Copyright (c) 2025 The Stdlib Authors. License is Apache-2.0: http://www.apache.org/licenses/LICENSE-2.0
/// <reference types="./index.d.ts" />
import e from"https://cdn.jsdelivr.net/gh/stdlib-js/utils-define-read-only-property@v0.2.2-esm/index.mjs";import t from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-function@v0.2.2-esm/index.mjs";import{isPrimitive as n}from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-nonnegative-integer@v0.2.2-esm/index.mjs";import r from"https://cdn.jsdelivr.net/gh/stdlib-js/string-format@v0.2.2-esm/index.mjs";import i from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-function@esm/index.mjs";import{isPrimitive as o}from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-nonnegative-integer@esm/index.mjs";import{isPrimitive as s}from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-number@v0.2.2-esm/index.mjs";import m from"https://cdn.jsdelivr.net/gh/stdlib-js/utils-define-property@v0.2.4-esm/index.mjs";import u from"https://cdn.jsdelivr.net/gh/stdlib-js/utils-define-nonenumerable-read-only-property@v0.2.1-esm/index.mjs";import a from"https://cdn.jsdelivr.net/gh/stdlib-js/number-float64-base-to-float32@v0.2.2-esm/index.mjs";import l from"https://cdn.jsdelivr.net/gh/stdlib-js/utils-define-property@esm/index.mjs";import p from"https://cdn.jsdelivr.net/gh/stdlib-js/utils-define-nonenumerable-read-only-property@esm/index.mjs";import c from"https://cdn.jsdelivr.net/gh/stdlib-js/utils-constructor-name@v0.2.2-esm/index.mjs";import f from"https://cdn.jsdelivr.net/gh/stdlib-js/array-float32@esm/index.mjs";import d from"https://cdn.jsdelivr.net/gh/stdlib-js/number-float32-base-assert-is-same-value@esm/index.mjs";import v from"https://cdn.jsdelivr.net/gh/stdlib-js/number-float32-base-assert-is-same-value-zero@esm/index.mjs";import{isPrimitive as x}from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-string@esm/index.mjs";import h from"https://cdn.jsdelivr.net/gh/stdlib-js/string-base-replace@esm/index.mjs";import g from"https://cdn.jsdelivr.net/gh/stdlib-js/array-float64@esm/index.mjs";import w from"https://cdn.jsdelivr.net/gh/stdlib-js/number-float64-base-assert-is-same-value@esm/index.mjs";import y from"https://cdn.jsdelivr.net/gh/stdlib-js/number-float64-base-assert-is-same-value-zero@esm/index.mjs";import b from"https://cdn.jsdelivr.net/gh/stdlib-js/utils-keys@v0.2.2-esm/index.mjs";import j from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-has-own-property@v0.2.2-esm/index.mjs";var E="number";var T="number";var V={};function C(e,t){if(!(this instanceof C))throw new TypeError("invalid invocation. Constructor must be called with the `new` keyword.");if(!s(e))throw new TypeError(r("invalid argument. Real component must be a number. Value: `%s`.",e));if(!s(t))throw new TypeError(r("invalid argument. Imaginary component must be a number. Value: `%s`.",t));return m(this,"re",{configurable:!1,enumerable:!0,writable:!1,value:a(e)}),m(this,"im",{configurable:!1,enumerable:!0,writable:!1,value:a(t)}),this}function N(e,t){if(!(this instanceof N))throw new TypeError("invalid invocation. Constructor must be called with the `new` keyword.");if(!s(e))throw new TypeError(r("invalid argument. Real component must be a number. Value: `%s`.",e));if(!s(t))throw new TypeError(r("invalid argument. Imaginary component must be a number. Value: `%s`.",t));return l(this,"re",{configurable:!1,enumerable:!0,writable:!1,value:e}),l(this,"im",{configurable:!1,enumerable:!0,writable:!1,value:t}),this}e(V,"cast",(function(e,i,o){if(!t(e))throw new TypeError(r("invalid argument. First argument must be a function. Value: `%s`.",e));if(!n(i))throw new TypeError(r("invalid argument. Second argument must be a nonnegative integer. Value: `%s`.",i));if(!t(o))throw new TypeError(r("invalid argument. Third argument must be a constructor function. Value: `%s`.",o));return i<=5?[function(){var t=e();if(typeof t===E)return new o(t,0);return t},function(t){var n=e(t);if(typeof n===E)return new o(n,0);return n},function(t,n){var r=e(t,n);if(typeof r===E)return new o(r,0);return r},function(t,n,r){var i=e(t,n,r);if(typeof i===E)return new o(i,0);return i},function(t,n,r,i){var s=e(t,n,r,i);if(typeof s===E)return new o(s,0);return s},function(t,n,r,i,s){var m=e(t,n,r,i,s);if(typeof m===E)return new o(m,0);return m}][i]:function(){var t,n,r;for(t=[],r=0;r<arguments.length;r++)t.push(arguments[r]);if(typeof(n=e.apply(null,t))===E)return new o(n,0);return n}})),e(V,"wrap",(function(e,t,n){if(!i(e))throw new TypeError(r("invalid argument. First argument must be a function. Value: `%s`.",e));if(!o(t))throw new TypeError(r("invalid argument. Second argument must be a nonnegative integer. Value: `%s`.",t));if(!i(n))throw new TypeError(r("invalid argument. Third argument must be a constructor function. Value: `%s`.",n));return t<=5?[function(){return e()},function(t){typeof t===T&&(t=new n(t,0));return e(t)},function(t,r){typeof t===T&&(t=new n(t,0));typeof r===T&&(r=new n(r,0));return e(t,r)},function(t,r,i){typeof t===T&&(t=new n(t,0));typeof r===T&&(r=new n(r,0));typeof i===T&&(i=new n(i,0));return e(t,r,i)},function(t,r,i,o){typeof t===T&&(t=new n(t,0));typeof r===T&&(r=new n(r,0));typeof i===T&&(i=new n(i,0));typeof o===T&&(o=new n(o,0));return e(t,r,i,o)},function(t,r,i,o,s){typeof t===T&&(t=new n(t,0));typeof r===T&&(r=new n(r,0));typeof i===T&&(i=new n(i,0));typeof o===T&&(o=new n(o,0));typeof s===T&&(s=new n(s,0));return e(t,r,i,o,s)}][t]:function(){var t,r,i;for(t=[],i=0;i<arguments.length;i++)typeof(r=arguments[i])===T&&(r=new n(r,0)),t.push(r);return e.apply(null,t)}})),u(C,"BYTES_PER_ELEMENT",4),u(C.prototype,"BYTES_PER_ELEMENT",4),u(C.prototype,"byteLength",8),u(C.prototype,"toString",(function(){var e=""+this.re;return this.im<0?e+=" - "+-this.im:e+=" + "+this.im,e+="i"})),u(C.prototype,"toJSON",(function(){var e={type:"Complex64"};return e.re=this.re,e.im=this.im,e})),p(N,"BYTES_PER_ELEMENT",8),p(N.prototype,"BYTES_PER_ELEMENT",8),p(N.prototype,"byteLength",16),p(N.prototype,"toString",(function(){var e=""+this.re;return this.im<0?e+=" - "+-this.im:e+=" + "+this.im,e+="i"})),p(N.prototype,"toJSON",(function(){var e={type:"Complex128"};return e.re=this.re,e.im=this.im,e}));var S={complex64:C,complex128:N};function F(e){return S[e]||null}var _={float64:"complex128",float32:"complex64"},P=F(_.float64);function R(e,t,n){var i;if(arguments.length>2){if(i=F(_[n]))return new i(e,t);throw new TypeError(r("invalid argument. Must provide a recognized data type. Value: `%s`.",n))}return new P(e,t)}var I={Complex64:"complex64",Complex128:"complex128"},L=["complex64","complex128"];function $(){return L.slice()}var M,q=$(),B=[];for(M=0;M<q.length;M++)B.push(F(q[M]));var W=q.length;function Y(e){var t;for(t=0;t<W;t++)if(e instanceof B[t])return q[t];return I[c(e)]||null}function k(e){return e.re}function z(e){return e.im}function J(e){var t=new f(2);return t[0]=e.re,t[1]=e.im,t}var O={};function U(e,t){var n=k(e),r=k(t),i=z(e),o=z(t),s=a(n*r)-a(i*o),m=a(n*o)+a(i*r);return new C(a(s),a(m))}function Z(e,t){return new C(a(k(t)*e),a(z(t)*e))}e(O,"isEqual",(function(e,t){var n=J(e),r=J(t);return n[0]===r[0]&&n[1]===r[1]})),e(O,"isNotEqual",(function(e,t){var n=J(e),r=J(t);return n[0]!==r[0]||n[1]!==r[1]})),e(O,"isSameValue",(function(e,t){var n=J(e),r=J(t);return d(n[0],r[0])&&d(n[1],r[1])})),e(O,"isSameValueZero",(function(e,t){var n=J(e),r=J(t);return v(n[0],r[0])&&v(n[1],r[1])})),u(U,"assign",(function(e,t,n,r,i,o,s){return i[s]=a(e*n)-a(t*r),i[s+o]=a(e*r)+a(t*n),i})),u(U,"strided",(function(e,t,n,r,i,o,s,m,u){var l=e[n],p=e[n+t],c=r[o],f=r[o+i];return s[u]=a(l*c)-a(p*f),s[u+m]=a(l*f)+a(p*c),s})),u(Z,"assign",(function(e,t,n,r,i,o){return r[o]=a(t*e),r[o+i]=a(n*e),r})),u(Z,"strided",(function(e,t,n,r,i,o,s){return i[s]=a(e*t[r]),i[s+o]=a(e*t[r+n]),i}));var A={};e(A,"add",(function(e,t){return new C(a(k(e)+k(t)),a(z(e)+z(t)))})),e(A,"assert",O),e(A,"identity",(function(e){return e})),e(A,"mul",U),e(A,"neg",(function(e){return new C(-k(e),-z(e))})),e(A,"scale",Z),e(A,"sub",(function(e,t){return new C(a(k(e)-k(t)),a(z(e)-z(t)))}));var D={};function G(e){return e.re}function H(e){return e.im}function K(e,t){return new N(G(e)+G(t),H(e)+H(t))}function Q(e){var t=new g(2);return t[0]=e.re,t[1]=e.im,t}e(D,"base",A),e(D,"conj",(function(e){return new e.constructor(e.re,-e.im)})),e(D,"Complex64",C),e(D,"imag",z),e(D,"parseComplex64",(function(e){var t,n,i=0;if(!x(e))throw new TypeError(r("invalid argument. First argument must be a string. Value: `%s`.",e));if(!(t=h(e,/\s/g,"").match(/^([-+]?(\d*\.?\d*(?:[eE][-+]?\d+)?|Infinity|NaN)i?)?([-+])?((\d*\.?\d*(?:[eE][-+]?\d+)?|Infinity|NaN)i)?$/)))throw new Error(r("invalid argument. Unable to parse input string as a complex number. Value: `%s`.",e));return n=t[1]&&!t[1].endsWith("i")?parseFloat(t[1]):0,t[4]?i=("-"===t[3]?-1:1)*parseFloat(h(t[4],/i$/,"")):t[1]&&t[1].endsWith("i")&&(i=parseFloat(h(t[1],/i$/,""))),new C(n,i)})),e(D,"real",k),e(D,"reim",J),e(D,"reviveComplex64",(function(e,t){return t&&t.type&&"Complex64"===t.type&&s(t.re)&&s(t.im)?new C(t.re,t.im):t})),u(K,"assign",(function(e,t,n,r,i,o,s){return i[s]=e+n,i[s+o]=t+r,i})),u(K,"strided",(function(e,t,n,r,i,o,s,m,u){return s[u]=e[n]+r[o],s[u+m]=e[n+t]+r[o+i],s}));var X={};function ee(e,t){var n=G(e),r=G(t),i=H(e),o=H(t);return new N(n*r-i*o,n*o+i*r)}function te(e,t,n){var r=G(e),i=H(e),o=G(t),s=H(t);return new N(r*o-i*s+G(n),r*s+i*o+H(n))}function ne(e,t){return new N(G(t)*e,H(t)*e)}e(X,"isEqual",(function(e,t){var n=Q(e),r=Q(t);return n[0]===r[0]&&n[1]===r[1]})),e(X,"isNotEqual",(function(e,t){var n=Q(e),r=Q(t);return n[0]!==r[0]||n[1]!==r[1]})),e(X,"isSameValue",(function(e,t){var n=Q(e),r=Q(t);return w(n[0],r[0])&&w(n[1],r[1])})),e(X,"isSameValueZero",(function(e,t){var n=Q(e),r=Q(t);return y(n[0],r[0])&&y(n[1],r[1])})),u(ee,"assign",(function(e,t,n,r,i,o,s){return i[s]=e*n-t*r,i[s+o]=e*r+t*n,i})),u(ee,"strided",(function(e,t,n,r,i,o,s,m,u){var a=e[n],l=e[n+t],p=r[o],c=r[o+i];return s[u]=a*p-l*c,s[u+m]=a*c+l*p,s})),u(te,"assign",(function(e,t,n,r,i,o,s,m,u){return s[u]=e*n-t*r+i,s[u+m]=e*r+t*n+o,s})),u(te,"strided",(function(e,t,n,r,i,o,s,m,u,a,l,p){var c=e[n],f=e[n+t],d=r[o],v=r[o+i],x=s[u],h=s[u+m];return a[p]=c*d-f*v+x,a[p+l]=c*v+f*d+h,a})),u(ne,"assign",(function(e,t,n,r,i,o){return r[o]=t*e,r[o+i]=n*e,r})),u(ne,"strided",(function(e,t,n,r,i,o,s){return i[s]=e*t[r],i[s+o]=e*t[r+n],i}));var re={};e(re,"add",K),e(re,"assert",X),e(re,"mul",ee),e(re,"muladd",te),e(re,"scale",ne);var ie={};e(ie,"base",re),e(ie,"conj",(function(e){return new N(G(e),-H(e))})),e(ie,"Complex128",N),e(ie,"imag",H),e(ie,"parseComplex128",(function(e){var t,n,i=0;if(!x(e))throw new TypeError(r("invalid argument. First argument must be a string. Value: `%s`.",e));if(!(t=h(e,/\s/g,"").match(/^([-+]?(\d*\.?\d*(?:[eE][-+]?\d+)?|Infinity|NaN)i?)?([-+])?((\d*\.?\d*(?:[eE][-+]?\d+)?|Infinity|NaN)i)?$/)))throw new Error(r("invalid argument. Unable to parse input string as a complex number. Value: `%s`.",e));return n=t[1]&&!t[1].endsWith("i")?parseFloat(t[1]):0,t[4]?i=("-"===t[3]?-1:1)*parseFloat(h(t[4],/i$/,"")):t[1]&&t[1].endsWith("i")&&(i=parseFloat(h(t[1],/i$/,""))),new N(n,i)})),e(ie,"real",G),e(ie,"reim",Q),e(ie,"reviveComplex128",(function(e,t){return t&&t.type&&"Complex128"===t.type&&s(t.re)&&s(t.im)?new N(t.re,t.im):t}));var oe={float64:{complex64:"complex128",complex128:"complex128"},float32:{complex64:"complex64",complex128:"complex128"},int32:{complex64:"complex128",complex128:"complex128"},int16:{complex64:"complex64",complex128:"complex128"},int8:{complex64:"complex64",complex128:"complex128"},uint32:{complex64:"complex128",complex128:"complex128"},uint16:{complex64:"complex64",complex128:"complex128"},uint8:{complex64:"complex64",complex128:"complex128"},uint8c:{complex64:"complex64",complex128:"complex128"},complex128:{float64:"complex128",float32:"complex128",int32:"complex128",int16:"complex128",int8:"complex128",uint32:"complex128",uint16:"complex128",uint8:"complex128",uint8c:"complex128",complex64:"complex128",complex128:"complex128"},complex64:{float64:"complex128",float32:"complex64",int32:"complex128",int16:"complex64",int8:"complex64",uint32:"complex128",uint16:"complex64",uint8:"complex64",uint8c:"complex64",complex64:"complex64",complex128:"complex128"}};function se(e,t){var n;return 0===arguments.length?function(){var e,t,n,r,i,o,s,m,u;for(n={},t=(e=b(oe)).length,u=0;u<t;u++){for(i=e[u],s=oe[i],r={},m=0;m<t;m++)r[o=e[m]]=s[o];n[i]=r}return n}():j(oe,e)&&(n=oe[e],j(n,t))?n[t]:null}var me={Complex128:N,Complex64:C};function ue(e,t){var n;return t&&t.type&&s(t.re)&&s(t.im)&&(n=me[t.type])?new n(t.re,t.im):t}var ae={};e(ae,"base",V),e(ae,"complex",R),e(ae,"ctors",F),e(ae,"dtype",Y),e(ae,"dtypes",$),e(ae,"float32",D),e(ae,"float64",ie),e(ae,"promotionRules",se),e(ae,"reviveComplex",ue);export{V as base,R as complex,F as ctors,ae as default,Y as dtype,$ as dtypes,D as float32,ie as float64,se as promotionRules,ue as reviveComplex};
//# sourceMappingURL=index.mjs.map
