// Copyright (c) 2024 The Stdlib Authors. License is Apache-2.0: http://www.apache.org/licenses/LICENSE-2.0
/// <reference types="./index.d.ts" />
import e from"https://cdn.jsdelivr.net/gh/stdlib-js/utils-define-read-only-property@v0.2.2-esm/index.mjs";import t from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-function@v0.2.2-esm/index.mjs";import{isPrimitive as r}from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-nonnegative-integer@v0.2.2-esm/index.mjs";import n from"https://cdn.jsdelivr.net/gh/stdlib-js/string-format@v0.2.2-esm/index.mjs";import{isPrimitive as i}from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-number@v0.2.2-esm/index.mjs";import o from"https://cdn.jsdelivr.net/gh/stdlib-js/utils-define-property@v0.2.4-esm/index.mjs";import s from"https://cdn.jsdelivr.net/gh/stdlib-js/utils-define-nonenumerable-read-only-property@v0.2.1-esm/index.mjs";import m from"https://cdn.jsdelivr.net/gh/stdlib-js/number-float64-base-to-float32@v0.2.2-esm/index.mjs";import a from"https://cdn.jsdelivr.net/gh/stdlib-js/utils-define-nonenumerable-read-only-property@esm/index.mjs";import l from"https://cdn.jsdelivr.net/gh/stdlib-js/utils-constructor-name@v0.2.2-esm/index.mjs";import u from"https://cdn.jsdelivr.net/gh/stdlib-js/array-float32@v0.2.2-esm/index.mjs";import p from"https://cdn.jsdelivr.net/gh/stdlib-js/number-float32-base-assert-is-same-value@esm/index.mjs";import c from"https://cdn.jsdelivr.net/gh/stdlib-js/number-float32-base-assert-is-same-value-zero@esm/index.mjs";import{isPrimitive as f}from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-string@v0.2.2-esm/index.mjs";import d from"https://cdn.jsdelivr.net/gh/stdlib-js/string-base-replace@v0.2.2-esm/index.mjs";import v from"https://cdn.jsdelivr.net/gh/stdlib-js/array-float64@esm/index.mjs";import x from"https://cdn.jsdelivr.net/gh/stdlib-js/number-float64-base-assert-is-same-value@esm/index.mjs";import h from"https://cdn.jsdelivr.net/gh/stdlib-js/number-float64-base-assert-is-same-value-zero@esm/index.mjs";import{isPrimitive as w}from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-string@esm/index.mjs";import g from"https://cdn.jsdelivr.net/gh/stdlib-js/string-base-replace@esm/index.mjs";import y from"https://cdn.jsdelivr.net/gh/stdlib-js/utils-keys@v0.2.2-esm/index.mjs";import b from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-has-own-property@v0.2.2-esm/index.mjs";var j="number";var E="number";var T={};function V(e,t){if(!(this instanceof V))throw new TypeError("invalid invocation. Constructor must be called with the `new` keyword.");if(!i(e))throw new TypeError(n("invalid argument. Real component must be a number. Value: `%s`.",e));if(!i(t))throw new TypeError(n("invalid argument. Imaginary component must be a number. Value: `%s`.",t));return o(this,"re",{configurable:!1,enumerable:!0,writable:!1,value:m(e)}),o(this,"im",{configurable:!1,enumerable:!0,writable:!1,value:m(t)}),this}function C(e,t){if(!(this instanceof C))throw new TypeError("invalid invocation. Constructor must be called with the `new` keyword.");if(!i(e))throw new TypeError(n("invalid argument. Real component must be a number. Value: `%s`.",e));if(!i(t))throw new TypeError(n("invalid argument. Imaginary component must be a number. Value: `%s`.",t));return o(this,"re",{configurable:!1,enumerable:!0,writable:!1,value:e}),o(this,"im",{configurable:!1,enumerable:!0,writable:!1,value:t}),this}e(T,"cast",(function(e,i,o){if(!t(e))throw new TypeError(n("invalid argument. First argument must be a function. Value: `%s`.",e));if(!r(i))throw new TypeError(n("invalid argument. Second argument must be a nonnegative integer. Value: `%s`.",i));if(!t(o))throw new TypeError(n("invalid argument. Third argument must be a constructor function. Value: `%s`.",o));return i<=5?[function(){var t=e();if(typeof t===j)return new o(t,0);return t},function(t){var r=e(t);if(typeof r===j)return new o(r,0);return r},function(t,r){var n=e(t,r);if(typeof n===j)return new o(n,0);return n},function(t,r,n){var i=e(t,r,n);if(typeof i===j)return new o(i,0);return i},function(t,r,n,i){var s=e(t,r,n,i);if(typeof s===j)return new o(s,0);return s},function(t,r,n,i,s){var m=e(t,r,n,i,s);if(typeof m===j)return new o(m,0);return m}][i]:function(){var t,r,n;for(t=[],n=0;n<arguments.length;n++)t.push(arguments[n]);if(typeof(r=e.apply(null,t))===j)return new o(r,0);return r}})),e(T,"wrap",(function(e,i,o){if(!t(e))throw new TypeError(n("invalid argument. First argument must be a function. Value: `%s`.",e));if(!r(i))throw new TypeError(n("invalid argument. Second argument must be a nonnegative integer. Value: `%s`.",i));if(!t(o))throw new TypeError(n("invalid argument. Third argument must be a constructor function. Value: `%s`.",o));return i<=5?[function(){return e()},function(t){typeof t===E&&(t=new o(t,0));return e(t)},function(t,r){typeof t===E&&(t=new o(t,0));typeof r===E&&(r=new o(r,0));return e(t,r)},function(t,r,n){typeof t===E&&(t=new o(t,0));typeof r===E&&(r=new o(r,0));typeof n===E&&(n=new o(n,0));return e(t,r,n)},function(t,r,n,i){typeof t===E&&(t=new o(t,0));typeof r===E&&(r=new o(r,0));typeof n===E&&(n=new o(n,0));typeof i===E&&(i=new o(i,0));return e(t,r,n,i)},function(t,r,n,i,s){typeof t===E&&(t=new o(t,0));typeof r===E&&(r=new o(r,0));typeof n===E&&(n=new o(n,0));typeof i===E&&(i=new o(i,0));typeof s===E&&(s=new o(s,0));return e(t,r,n,i,s)}][i]:function(){var t,r,n;for(t=[],n=0;n<arguments.length;n++)typeof(r=arguments[n])===E&&(r=new o(r,0)),t.push(r);return e.apply(null,t)}})),s(V,"BYTES_PER_ELEMENT",4),s(V.prototype,"BYTES_PER_ELEMENT",4),s(V.prototype,"byteLength",8),s(V.prototype,"toString",(function(){var e=""+this.re;return this.im<0?e+=" - "+-this.im:e+=" + "+this.im,e+="i"})),s(V.prototype,"toJSON",(function(){var e={type:"Complex64"};return e.re=this.re,e.im=this.im,e})),a(C,"BYTES_PER_ELEMENT",8),a(C.prototype,"BYTES_PER_ELEMENT",8),a(C.prototype,"byteLength",16),a(C.prototype,"toString",(function(){var e=""+this.re;return this.im<0?e+=" - "+-this.im:e+=" + "+this.im,e+="i"})),a(C.prototype,"toJSON",(function(){var e={type:"Complex128"};return e.re=this.re,e.im=this.im,e}));var N={complex64:V,complex128:C};function S(e){return N[e]||null}var F={float64:"complex128",float32:"complex64"},_=S(F.float64);function P(e,t,r){var i;if(arguments.length>2){if(i=S(F[r]))return new i(e,t);throw new TypeError(n("invalid argument. Must provide a recognized data type. Value: `%s`.",r))}return new _(e,t)}var R={Complex64:"complex64",Complex128:"complex128"},I=["complex64","complex128"];function L(){return I.slice()}var $,M=L(),q=[];for($=0;$<M.length;$++)q.push(S(M[$]));var B=M.length;function W(e){var t;for(t=0;t<B;t++)if(e instanceof q[t])return M[t];return R[l(e)]||null}function Y(e){return e.re}function k(e){return e.im}function z(e){var t=new u(2);return t[0]=e.re,t[1]=e.im,t}var J={};e(J,"isEqual",(function(e,t){var r=z(e),n=z(t);return r[0]===n[0]&&r[1]===n[1]})),e(J,"isNotEqual",(function(e,t){var r=z(e),n=z(t);return r[0]!==n[0]||r[1]!==n[1]})),e(J,"isSameValue",(function(e,t){var r=z(e),n=z(t);return p(r[0],n[0])&&p(r[1],n[1])})),e(J,"isSameValueZero",(function(e,t){var r=z(e),n=z(t);return c(r[0],n[0])&&c(r[1],n[1])}));var O={};e(O,"add",(function(e,t){return new V(m(Y(e)+Y(t)),m(k(e)+k(t)))})),e(O,"assert",J),e(O,"mul",(function(e,t){var r=Y(e),n=Y(t),i=k(e),o=k(t),s=m(r*n)-m(i*o),a=m(r*o)+m(i*n);return new V(m(s),m(a))}));var U={};function Z(e){return e.re}function A(e){return e.im}function D(e){var t=new v(2);return t[0]=e.re,t[1]=e.im,t}e(U,"base",O),e(U,"conj",(function(e){return new e.constructor(e.re,-e.im)})),e(U,"Complex64",V),e(U,"imag",k),e(U,"parseComplex64",(function(e){var t,r,i=0;if(!f(e))throw new TypeError(n("invalid argument. First argument must be a string. Value: `%s`.",e));if(!(t=d(e,/\s/g,"").match(/^([-+]?(\d*\.?\d*(?:[eE][-+]?\d+)?|Infinity|NaN)i?)?([-+])?((\d*\.?\d*(?:[eE][-+]?\d+)?|Infinity|NaN)i)?$/)))throw new Error(n("invalid argument. Unable to parse input string as a complex number. Value: `%s`.",e));return r=t[1]&&!t[1].endsWith("i")?parseFloat(t[1]):0,t[4]?i=("-"===t[3]?-1:1)*parseFloat(d(t[4],/i$/,"")):t[1]&&t[1].endsWith("i")&&(i=parseFloat(d(t[1],/i$/,""))),new V(r,i)})),e(U,"real",Y),e(U,"reim",z),e(U,"reviveComplex64",(function(e,t){return t&&t.type&&"Complex64"===t.type&&i(t.re)&&i(t.im)?new V(t.re,t.im):t}));var G={};e(G,"isEqual",(function(e,t){var r=D(e),n=D(t);return r[0]===n[0]&&r[1]===n[1]})),e(G,"isNotEqual",(function(e,t){var r=D(e),n=D(t);return r[0]!==n[0]||r[1]!==n[1]})),e(G,"isSameValue",(function(e,t){var r=D(e),n=D(t);return x(r[0],n[0])&&x(r[1],n[1])})),e(G,"isSameValueZero",(function(e,t){var r=D(e),n=D(t);return h(r[0],n[0])&&h(r[1],n[1])}));var H={};e(H,"add",(function(e,t){return new C(Z(e)+Z(t),A(e)+A(t))})),e(H,"assert",G),e(H,"mul",(function(e,t){var r=Z(e),n=Z(t),i=A(e),o=A(t);return new C(r*n-i*o,r*o+i*n)}));var K={};e(K,"base",H),e(K,"conj",(function(e){return new e.constructor(e.re,-e.im)})),e(K,"Complex128",C),e(K,"imag",A),e(K,"parseComplex128",(function(e){var t,r,i=0;if(!w(e))throw new TypeError(n("invalid argument. First argument must be a string. Value: `%s`.",e));if(!(t=g(e,/\s/g,"").match(/^([-+]?(\d*\.?\d*(?:[eE][-+]?\d+)?|Infinity|NaN)i?)?([-+])?((\d*\.?\d*(?:[eE][-+]?\d+)?|Infinity|NaN)i)?$/)))throw new Error(n("invalid argument. Unable to parse input string as a complex number. Value: `%s`.",e));return r=t[1]&&!t[1].endsWith("i")?parseFloat(t[1]):0,t[4]?i=("-"===t[3]?-1:1)*parseFloat(g(t[4],/i$/,"")):t[1]&&t[1].endsWith("i")&&(i=parseFloat(g(t[1],/i$/,""))),new C(r,i)})),e(K,"real",Z),e(K,"reim",D),e(K,"reviveComplex128",(function(e,t){return t&&t.type&&"Complex128"===t.type&&i(t.re)&&i(t.im)?new C(t.re,t.im):t}));var Q={float64:{complex64:"complex128",complex128:"complex128"},float32:{complex64:"complex64",complex128:"complex128"},int32:{complex64:"complex128",complex128:"complex128"},int16:{complex64:"complex64",complex128:"complex128"},int8:{complex64:"complex64",complex128:"complex128"},uint32:{complex64:"complex128",complex128:"complex128"},uint16:{complex64:"complex64",complex128:"complex128"},uint8:{complex64:"complex64",complex128:"complex128"},uint8c:{complex64:"complex64",complex128:"complex128"},complex128:{float64:"complex128",float32:"complex128",int32:"complex128",int16:"complex128",int8:"complex128",uint32:"complex128",uint16:"complex128",uint8:"complex128",uint8c:"complex128",complex64:"complex128",complex128:"complex128"},complex64:{float64:"complex128",float32:"complex64",int32:"complex128",int16:"complex64",int8:"complex64",uint32:"complex128",uint16:"complex64",uint8:"complex64",uint8c:"complex64",complex64:"complex64",complex128:"complex128"}};function X(e,t){var r;return 0===arguments.length?function(){var e,t,r,n,i,o,s,m,a;for(r={},t=(e=y(Q)).length,a=0;a<t;a++){for(i=e[a],s=Q[i],n={},m=0;m<t;m++)n[o=e[m]]=s[o];r[i]=n}return r}():b(Q,e)&&(r=Q[e],b(r,t))?r[t]:null}var ee={Complex128:C,Complex64:V};function te(e,t){var r;return t&&t.type&&i(t.re)&&i(t.im)&&(r=ee[t.type])?new r(t.re,t.im):t}var re={};e(re,"base",T),e(re,"complex",P),e(re,"ctors",S),e(re,"dtype",W),e(re,"dtypes",L),e(re,"float32",U),e(re,"float64",K),e(re,"promotionRules",X),e(re,"reviveComplex",te);export{T as base,P as complex,S as ctors,re as default,W as dtype,L as dtypes,U as float32,K as float64,X as promotionRules,te as reviveComplex};
//# sourceMappingURL=index.mjs.map
