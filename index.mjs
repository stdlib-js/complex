// Copyright (c) 2025 The Stdlib Authors. License is Apache-2.0: http://www.apache.org/licenses/LICENSE-2.0
/// <reference types="./index.d.ts" />
import e from"https://cdn.jsdelivr.net/gh/stdlib-js/utils-define-read-only-property@v0.2.2-esm/index.mjs";import t from"https://cdn.jsdelivr.net/gh/stdlib-js/number-float64-base-assert-is-almost-equal@esm/index.mjs";import n from"https://cdn.jsdelivr.net/gh/stdlib-js/number-float32-base-assert-is-almost-equal@v0.0.0-esm/index.mjs";import r from"https://cdn.jsdelivr.net/gh/stdlib-js/array-float64@v0.2.2-esm/index.mjs";import i from"https://cdn.jsdelivr.net/gh/stdlib-js/array-float32@v0.2.2-esm/index.mjs";import o from"https://cdn.jsdelivr.net/gh/stdlib-js/number-float64-base-assert-is-almost-same-value@esm/index.mjs";import s from"https://cdn.jsdelivr.net/gh/stdlib-js/number-float32-base-assert-is-almost-same-value@esm/index.mjs";import m from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-function@v0.2.2-esm/index.mjs";import{isPrimitive as a}from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-nonnegative-integer@v0.2.2-esm/index.mjs";import u from"https://cdn.jsdelivr.net/gh/stdlib-js/string-format@v0.2.2-esm/index.mjs";import l from"https://cdn.jsdelivr.net/gh/stdlib-js/string-replace@v0.2.2-esm/index.mjs";import p from"https://cdn.jsdelivr.net/gh/stdlib-js/number-ctor@v0.2.2-esm/index.mjs";import{isPrimitive as c}from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-number@v0.2.2-esm/index.mjs";import f from"https://cdn.jsdelivr.net/gh/stdlib-js/utils-define-nonenumerable-read-only-property@v0.2.1-esm/index.mjs";import d from"https://cdn.jsdelivr.net/gh/stdlib-js/number-float64-base-to-float32@v0.2.2-esm/index.mjs";import v from"https://cdn.jsdelivr.net/gh/stdlib-js/utils-constructor-name@v0.2.2-esm/index.mjs";import h from"https://cdn.jsdelivr.net/gh/stdlib-js/number-float64-base-to-float32@esm/index.mjs";import x from"https://cdn.jsdelivr.net/gh/stdlib-js/number-float32-base-assert-is-almost-equal@esm/index.mjs";import g from"https://cdn.jsdelivr.net/gh/stdlib-js/number-float32-base-assert-is-same-value@esm/index.mjs";import j from"https://cdn.jsdelivr.net/gh/stdlib-js/number-float32-base-assert-is-same-value-zero@esm/index.mjs";import{isPrimitive as b}from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-string@v0.2.2-esm/index.mjs";import w from"https://cdn.jsdelivr.net/gh/stdlib-js/string-base-replace@v0.2.2-esm/index.mjs";import y from"https://cdn.jsdelivr.net/gh/stdlib-js/number-float64-base-assert-is-same-value@esm/index.mjs";import E from"https://cdn.jsdelivr.net/gh/stdlib-js/number-float64-base-assert-is-same-value-zero@esm/index.mjs";import T from"https://cdn.jsdelivr.net/gh/stdlib-js/array-float64@esm/index.mjs";import N from"https://cdn.jsdelivr.net/gh/stdlib-js/math-base-special-abs@esm/index.mjs";import V from"https://cdn.jsdelivr.net/gh/stdlib-js/math-base-special-max@esm/index.mjs";import S from"https://cdn.jsdelivr.net/gh/stdlib-js/constants-float64-max@esm/index.mjs";import C from"https://cdn.jsdelivr.net/gh/stdlib-js/constants-float64-smallest-normal@esm/index.mjs";import _ from"https://cdn.jsdelivr.net/gh/stdlib-js/constants-float64-eps@esm/index.mjs";import R from"https://cdn.jsdelivr.net/gh/stdlib-js/utils-keys@v0.2.2-esm/index.mjs";import q from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-has-own-property@v0.2.2-esm/index.mjs";function F(e){var t=new r(2);return t[0]=e.re,t[1]=e.im,t}function L(e){var t=new i(2);return t[0]=e.re,t[1]=e.im,t}var P={};e(P,"isAlmostEqual",(function(e,r,i){var o,s,m,a,u;return m=e.BYTES_PER_ELEMENT,a=r.BYTES_PER_ELEMENT,4===m&&4===a?(u=n,o=L(e),s=L(r)):(u=t,o=F(e),s=F(r)),u(o[0],s[0],i)&&u(o[1],s[1],i)})),e(P,"isAlmostSameValue",(function(e,t,n){var r,i,m,a,u;return m=e.BYTES_PER_ELEMENT,a=t.BYTES_PER_ELEMENT,4===m&&4===a?(u=s,r=L(e),i=L(t)):(u=o,r=F(e),i=F(t)),u(r[0],i[0],n)&&u(r[1],i[1],n)}));var M="number";var B="number";var Y={};function A(t,n){if(!(this instanceof A))throw new TypeError("invalid invocation. Constructor must be called with the `new` keyword.");if(!c(t))throw new TypeError(u("invalid argument. Real component must be a number. Value: `%s`.",t));if(!c(n))throw new TypeError(u("invalid argument. Imaginary component must be a number. Value: `%s`.",n));return e(this,"re",d(t)),e(this,"im",d(n)),this}function I(t,n){if(!(this instanceof I))throw new TypeError("invalid invocation. Constructor must be called with the `new` keyword.");if(!c(t))throw new TypeError(u("invalid argument. Real component must be a number. Value: `%s`.",t));if(!c(n))throw new TypeError(u("invalid argument. Imaginary component must be a number. Value: `%s`.",n));return e(this,"re",t),e(this,"im",n),this}e(Y,"assert",P),e(Y,"cast",(function(e,t,n){if(!m(e))throw new TypeError(u("invalid argument. First argument must be a function. Value: `%s`.",e));if(!a(t))throw new TypeError(u("invalid argument. Second argument must be a nonnegative integer. Value: `%s`.",t));if(!m(n))throw new TypeError(u("invalid argument. Third argument must be a constructor function. Value: `%s`.",n));return t<=5?[function(){var t=e();if(typeof t===M)return new n(t,0);return t},function(t){var r=e(t);if(typeof r===M)return new n(r,0);return r},function(t,r){var i=e(t,r);if(typeof i===M)return new n(i,0);return i},function(t,r,i){var o=e(t,r,i);if(typeof o===M)return new n(o,0);return o},function(t,r,i,o){var s=e(t,r,i,o);if(typeof s===M)return new n(s,0);return s},function(t,r,i,o,s){var m=e(t,r,i,o,s);if(typeof m===M)return new n(m,0);return m}][t]:function(){var t,r,i;for(t=[],i=0;i<arguments.length;i++)t.push(arguments[i]);if(typeof(r=e.apply(null,t))===M)return new n(r,0);return r}})),e(Y,"parse",(function(e){var t,n,r,i,o=[],s="",m=[],a=[],u=!0,c=0,f=0;if("string"!=typeof e)return null;for(e=l(e," ",""),i=0;i<e.length;i++)"+"!==e[i]&&"-"!==e[i]||0===i||"e"===e[i-1]?i===e.length-1&&(s+=e[i],a.push(s)):(a.push(s),s=""),s+=e[i];for(i=0;i<a.length;i++){if(t=!1,"i"===(r=a[i])[0]?(r=r.slice(1),t=!0):"i"===r[r.length-1]&&(r=r.slice(0,r.length-1),t=!0),n=p(r),isNaN(n)&&"NaN"!==r&&"+NaN"!==r&&"-NaN"!==r){u=!1;break}t?o.push(n):m.push(n)}if(!u)return null;for(i=0;i<m.length;i++)c+=m[i];for(i=0;i<o.length;i++)f+=o[i];return{re:c,im:f}})),e(Y,"wrap",(function(e,t,n){if(!m(e))throw new TypeError(u("invalid argument. First argument must be a function. Value: `%s`.",e));if(!a(t))throw new TypeError(u("invalid argument. Second argument must be a nonnegative integer. Value: `%s`.",t));if(!m(n))throw new TypeError(u("invalid argument. Third argument must be a constructor function. Value: `%s`.",n));return t<=5?[function(){return e()},function(t){typeof t===B&&(t=new n(t,0));return e(t)},function(t,r){typeof t===B&&(t=new n(t,0));typeof r===B&&(r=new n(r,0));return e(t,r)},function(t,r,i){typeof t===B&&(t=new n(t,0));typeof r===B&&(r=new n(r,0));typeof i===B&&(i=new n(i,0));return e(t,r,i)},function(t,r,i,o){typeof t===B&&(t=new n(t,0));typeof r===B&&(r=new n(r,0));typeof i===B&&(i=new n(i,0));typeof o===B&&(o=new n(o,0));return e(t,r,i,o)},function(t,r,i,o,s){typeof t===B&&(t=new n(t,0));typeof r===B&&(r=new n(r,0));typeof i===B&&(i=new n(i,0));typeof o===B&&(o=new n(o,0));typeof s===B&&(s=new n(s,0));return e(t,r,i,o,s)}][t]:function(){var t,r,i;for(t=[],i=0;i<arguments.length;i++)typeof(r=arguments[i])===B&&(r=new n(r,0)),t.push(r);return e.apply(null,t)}})),f(A,"name","Complex64"),f(A,"BYTES_PER_ELEMENT",4),f(A.prototype,"BYTES_PER_ELEMENT",4),f(A.prototype,"byteLength",8),f(A.prototype,"toString",(function(){var e=""+this.re;return this.im<0?e+=" - "+-this.im:e+=" + "+this.im,e+="i"})),f(A.prototype,"toJSON",(function(){var e={type:"Complex64"};return e.re=this.re,e.im=this.im,e})),f(I,"name","Complex128"),f(I,"BYTES_PER_ELEMENT",8),f(I.prototype,"BYTES_PER_ELEMENT",8),f(I.prototype,"byteLength",16),f(I.prototype,"toString",(function(){var e=""+this.re;return this.im<0?e+=" - "+-this.im:e+=" + "+this.im,e+="i"})),f(I.prototype,"toJSON",(function(){var e={type:"Complex128"};return e.re=this.re,e.im=this.im,e}));var $={complex64:A,complex128:I};function k(e){return $[e]||null}var W={float64:"complex128",float32:"complex64"},z=k(W.float64);function J(e,t,n){var r;if(arguments.length>2){if(r=k(W[n]))return new r(e,t);throw new TypeError(u("invalid argument. Must provide a recognized data type. Value: `%s`.",n))}return new z(e,t)}var O={Complex64:"complex64",Complex128:"complex128"},U=["complex64","complex128"];function Z(){return U.slice()}var D,G=Z(),H=[];for(D=0;D<G.length;D++)H.push(k(G[D]));var K=G.length;function Q(e){var t;for(t=0;t<K;t++)if(e instanceof H[t])return G[t];return O[v(e)]||null}function X(e){return e.re}function ee(e){return e.im}function te(e,t){return new A(d(X(e)+X(t)),d(ee(e)+ee(t)))}f(te,"assign",(function(e,t,n,r,i,o,s){return i[s]=h(e+n),i[s+o]=h(t+r),i})),f(te,"strided",(function(e,t,n,r,i,o,s,m,a){return s[a]=h(e[n]+r[o]),s[a+m]=h(e[n+t]+r[o+i]),s}));var ne={};function re(e,t){var n=X(e),r=X(t),i=ee(e),o=ee(t),s=h(n*r)-h(i*o),m=h(n*o)+h(i*r);return new A(h(s),h(m))}function ie(e,t){return new A(h(X(t)*e),h(ee(t)*e))}e(ne,"isAlmostEqual",(function(e,t,n){var r=L(e),i=L(t);return x(r[0],i[0],n)&&x(r[1],i[1],n)})),e(ne,"isAlmostSameValue",(function(e,t,n){var r=L(e),i=L(t);return s(r[0],i[0],n)&&s(r[1],i[1],n)})),e(ne,"isEqual",(function(e,t){var n=L(e),r=L(t);return n[0]===r[0]&&n[1]===r[1]})),e(ne,"isNotEqual",(function(e,t){var n=L(e),r=L(t);return n[0]!==r[0]||n[1]!==r[1]})),e(ne,"isSameValue",(function(e,t){var n=L(e),r=L(t);return g(n[0],r[0])&&g(n[1],r[1])})),e(ne,"isSameValueZero",(function(e,t){var n=L(e),r=L(t);return j(n[0],r[0])&&j(n[1],r[1])})),f(re,"assign",(function(e,t,n,r,i,o,s){return i[s]=h(e*n)-h(t*r),i[s+o]=h(e*r)+h(t*n),i})),f(re,"strided",(function(e,t,n,r,i,o,s,m,a){var u=e[n],l=e[n+t],p=r[o],c=r[o+i];return s[a]=h(u*p)-h(l*c),s[a+m]=h(u*c)+h(l*p),s})),f(ie,"assign",(function(e,t,n,r,i,o){return r[o]=h(t*e),r[o+i]=h(n*e),r})),f(ie,"strided",(function(e,t,n,r,i,o,s){return i[s]=h(e*t[r]),i[s+o]=h(e*t[r+n]),i}));var oe={};e(oe,"add",te),e(oe,"assert",ne),e(oe,"identity",(function(e){return e})),e(oe,"mul",re),e(oe,"neg",(function(e){return new A(-X(e),-ee(e))})),e(oe,"scale",ie),e(oe,"sub",(function(e,t){return new A(h(X(e)-X(t)),h(ee(e)-ee(t)))}));var se={};function me(e){return e.re}function ae(e){return e.im}function ue(e,t){return new I(me(e)+me(t),ae(e)+ae(t))}function le(e,t,n){return new I(me(e)+me(t)+me(n),ae(e)+ae(t)+ae(n))}e(se,"base",oe),e(se,"conj",(function(e){return new e.constructor(e.re,-e.im)})),e(se,"Complex64",A),e(se,"imag",ee),e(se,"parseComplex64",(function(e){var t,n,r=0;if(!b(e))throw new TypeError(u("invalid argument. First argument must be a string. Value: `%s`.",e));if(!(t=w(e,/\s/g,"").match(/^([-+]?(\d*\.?\d*(?:[eE][-+]?\d+)?|Infinity|NaN)i?)?([-+])?((\d*\.?\d*(?:[eE][-+]?\d+)?|Infinity|NaN)i)?$/)))throw new Error(u("invalid argument. Unable to parse input string as a complex number. Value: `%s`.",e));return n=t[1]&&!t[1].endsWith("i")?parseFloat(t[1]):0,t[4]?r=("-"===t[3]?-1:1)*parseFloat(w(t[4],/i$/,"")):t[1]&&t[1].endsWith("i")&&(r=parseFloat(w(t[1],/i$/,""))),new A(n,r)})),e(se,"real",X),e(se,"reim",L),e(se,"reviveComplex64",(function(e,t){return t&&t.type&&"Complex64"===t.type&&c(t.re)&&c(t.im)?new A(t.re,t.im):t})),f(ue,"assign",(function(e,t,n,r,i,o,s){return i[s]=e+n,i[s+o]=t+r,i})),f(ue,"strided",(function(e,t,n,r,i,o,s,m,a){return s[a]=e[n]+r[o],s[a+m]=e[n+t]+r[o+i],s})),f(le,"assign",(function(e,t,n,r,i,o,s,m,a){return s[a]=e+n+i,s[a+m]=t+r+o,s})),f(le,"strided",(function(e,t,n,r,i,o,s,m,a,u,l,p){return u[p]=e[n]+r[o]+s[a],u[p+l]=e[n+t]+r[o+i]+s[a+m],u}));var pe={};function ce(e,t,n,r,i,o){var s;return 0===i?(e+r*(t/n))*o:0===(s=t*i)?e*o+t*o*i:(e+s)*o}function fe(e,t,n,r){var i,o,s;return s=1/(n+r*(o=r/n)),(i=[0,0])[0]=ce(e,t,n,r,o,s),i[1]=ce(t,-e,n,r,o,s),i}e(pe,"isAlmostEqual",(function(e,n,r){var i=F(e),o=F(n);return t(i[0],o[0],r)&&t(i[1],o[1],r)})),e(pe,"isAlmostSameValue",(function(e,t,n){var r=F(e),i=F(t);return o(r[0],i[0],n)&&o(r[1],i[1],n)})),e(pe,"isEqual",(function(e,t){var n=F(e),r=F(t);return n[0]===r[0]&&n[1]===r[1]})),e(pe,"isNotEqual",(function(e,t){var n=F(e),r=F(t);return n[0]!==r[0]||n[1]!==r[1]})),e(pe,"isSameValue",(function(e,t){var n=F(e),r=F(t);return y(n[0],r[0])&&y(n[1],r[1])})),e(pe,"isSameValueZero",(function(e,t){var n=F(e),r=F(t);return E(n[0],r[0])&&E(n[1],r[1])}));var de=.5*S,ve=C*(2/_),he=2/(_*_);function xe(e,t,n,r,i,o,s){var m,a,u,l;return a=V(N(e),N(t)),u=V(N(n),N(r)),l=1,a>=de?(e*=.5,t*=.5,l*=2):a<=ve&&(e*=he,t*=he,l/=he),u>=de?(n*=.5,r*=.5,l*=.5):u<=ve&&(n*=he,r*=he,l*=he),N(r)<=N(n)?m=fe(e,t,n,r):(m=fe(t,e,r,n))[1]*=-1,m[0]*=l,m[1]*=l,i[s]=m[0],i[s+o]=m[1],i}var ge=new T(2);function je(e,t){var n,r,i,o;return n=me(e),r=me(t),i=ae(e),o=ae(t),new I((ge=xe(n,i,r,o,ge,1,0))[0],ge[1])}function be(e,t){var n=me(e),r=me(t),i=ae(e),o=ae(t);return new I(n*r-i*o,n*o+i*r)}function we(e,t,n){var r=me(e),i=ae(e),o=me(t),s=ae(t);return new I(r*o-i*s+me(n),r*s+i*o+ae(n))}function ye(e,t){return new I(me(t)*e,ae(t)*e)}f(je,"assign",xe),f(je,"strided",(function(e,t,n,r,i,o,s,m,a){return xe(e[n],e[n+t],r[o],r[o+i],s,m,a)})),f(be,"assign",(function(e,t,n,r,i,o,s){return i[s]=e*n-t*r,i[s+o]=e*r+t*n,i})),f(be,"strided",(function(e,t,n,r,i,o,s,m,a){var u=e[n],l=e[n+t],p=r[o],c=r[o+i];return s[a]=u*p-l*c,s[a+m]=u*c+l*p,s})),f(we,"assign",(function(e,t,n,r,i,o,s,m,a){return s[a]=e*n-t*r+i,s[a+m]=e*r+t*n+o,s})),f(we,"strided",(function(e,t,n,r,i,o,s,m,a,u,l,p){var c=e[n],f=e[n+t],d=r[o],v=r[o+i],h=s[a],x=s[a+m];return u[p]=c*d-f*v+h,u[p+l]=c*v+f*d+x,u})),f(ye,"assign",(function(e,t,n,r,i,o){return r[o]=t*e,r[o+i]=n*e,r})),f(ye,"strided",(function(e,t,n,r,i,o,s){return i[s]=e*t[r],i[s+o]=e*t[r+n],i}));var Ee={};e(Ee,"add",ue),e(Ee,"add3",le),e(Ee,"assert",pe),e(Ee,"div",je),e(Ee,"identity",(function(e){return e})),e(Ee,"mul",be),e(Ee,"muladd",we),e(Ee,"neg",(function(e){return new I(-me(e),-ae(e))})),e(Ee,"scale",ye),e(Ee,"sub",(function(e,t){return new I(me(e)-me(t),ae(e)-ae(t))}));var Te={};e(Te,"base",Ee),e(Te,"conj",(function(e){return new I(me(e),-ae(e))})),e(Te,"Complex128",I),e(Te,"imag",ae),e(Te,"parseComplex128",(function(e){var t,n,r=0;if(!b(e))throw new TypeError(u("invalid argument. First argument must be a string. Value: `%s`.",e));if(!(t=w(e,/\s/g,"").match(/^([-+]?(\d*\.?\d*(?:[eE][-+]?\d+)?|Infinity|NaN)i?)?([-+])?((\d*\.?\d*(?:[eE][-+]?\d+)?|Infinity|NaN)i)?$/)))throw new Error(u("invalid argument. Unable to parse input string as a complex number. Value: `%s`.",e));return n=t[1]&&!t[1].endsWith("i")?parseFloat(t[1]):0,t[4]?r=("-"===t[3]?-1:1)*parseFloat(w(t[4],/i$/,"")):t[1]&&t[1].endsWith("i")&&(r=parseFloat(w(t[1],/i$/,""))),new I(n,r)})),e(Te,"real",me),e(Te,"reim",F),e(Te,"reviveComplex128",(function(e,t){return t&&t.type&&"Complex128"===t.type&&c(t.re)&&c(t.im)?new I(t.re,t.im):t}));var Ne={float64:{complex64:"complex128",complex128:"complex128"},float32:{complex64:"complex64",complex128:"complex128"},int32:{complex64:"complex128",complex128:"complex128"},int16:{complex64:"complex64",complex128:"complex128"},int8:{complex64:"complex64",complex128:"complex128"},uint32:{complex64:"complex128",complex128:"complex128"},uint16:{complex64:"complex64",complex128:"complex128"},uint8:{complex64:"complex64",complex128:"complex128"},uint8c:{complex64:"complex64",complex128:"complex128"},complex128:{float64:"complex128",float32:"complex128",int32:"complex128",int16:"complex128",int8:"complex128",uint32:"complex128",uint16:"complex128",uint8:"complex128",uint8c:"complex128",complex64:"complex128",complex128:"complex128"},complex64:{float64:"complex128",float32:"complex64",int32:"complex128",int16:"complex64",int8:"complex64",uint32:"complex128",uint16:"complex64",uint8:"complex64",uint8c:"complex64",complex64:"complex64",complex128:"complex128"}};function Ve(e,t){var n;return 0===arguments.length?function(){var e,t,n,r,i,o,s,m,a;for(n={},t=(e=R(Ne)).length,a=0;a<t;a++){for(i=e[a],s=Ne[i],r={},m=0;m<t;m++)r[o=e[m]]=s[o];n[i]=r}return n}():q(Ne,e)&&(n=Ne[e],q(n,t))?n[t]:null}var Se={Complex128:I,Complex64:A};function Ce(e,t){var n;return t&&t.type&&c(t.re)&&c(t.im)&&(n=Se[t.type])?new n(t.re,t.im):t}var _e={};e(_e,"base",Y),e(_e,"complex",J),e(_e,"ctors",k),e(_e,"dtype",Q),e(_e,"dtypes",Z),e(_e,"float32",se),e(_e,"float64",Te),e(_e,"promotionRules",Ve),e(_e,"reviveComplex",Ce);export{Y as base,J as complex,k as ctors,_e as default,Q as dtype,Z as dtypes,se as float32,Te as float64,Ve as promotionRules,Ce as reviveComplex};
//# sourceMappingURL=index.mjs.map
