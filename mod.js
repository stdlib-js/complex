// Copyright (c) 2025 The Stdlib Authors. License is Apache-2.0: http://www.apache.org/licenses/LICENSE-2.0
/// <reference types="./mod.d.ts" />
var e="function"==typeof Object.defineProperty?Object.defineProperty:null;var r=Object.defineProperty;function n(e){return"number"==typeof e}function t(e){var r,n="";for(r=0;r<e;r++)n+="0";return n}function o(e,r,n){var o=!1,i=r-e.length;return i<0||(function(e){return"-"===e[0]}(e)&&(o=!0,e=e.substr(1)),e=n?e+t(i):t(i)+e,o&&(e="-"+e)),e}var i=String.prototype.toLowerCase,a=String.prototype.toUpperCase;function u(e){var r,t,u;switch(e.specifier){case"b":r=2;break;case"o":r=8;break;case"x":case"X":r=16;break;default:r=10}if(t=e.arg,u=parseInt(t,10),!isFinite(u)){if(!n(t))throw new Error("invalid integer. Value: "+t);u=0}return u<0&&("u"===e.specifier||10!==r)&&(u=4294967295+u+1),u<0?(t=(-u).toString(r),e.precision&&(t=o(t,e.precision,e.padRight)),t="-"+t):(t=u.toString(r),u||e.precision?e.precision&&(t=o(t,e.precision,e.padRight)):t="",e.sign&&(t=e.sign+t)),16===r&&(e.alternate&&(t="0x"+t),t=e.specifier===a.call(e.specifier)?a.call(t):i.call(t)),8===r&&e.alternate&&"0"!==t.charAt(0)&&(t="0"+t),t}var c=Math.abs,l=String.prototype.toLowerCase,f=String.prototype.toUpperCase,p=String.prototype.replace,s=/e\+(\d)$/,m=/e-(\d)$/,g=/^(\d+)$/,y=/^(\d+)e/,v=/\.0$/,d=/\.0*e/,h=/(\..*[^0])0*e/;function w(e,r){var n,t;switch(r.specifier){case"e":case"E":t=e.toExponential(r.precision);break;case"f":case"F":t=e.toFixed(r.precision);break;case"g":case"G":c(e)<1e-4?((n=r.precision)>0&&(n-=1),t=e.toExponential(n)):t=e.toPrecision(r.precision),r.alternate||(t=p.call(t,h,"$1e"),t=p.call(t,d,"e"),t=p.call(t,v,""));break;default:throw new Error("invalid double notation. Value: "+r.specifier)}return t=p.call(t,s,"e+0$1"),t=p.call(t,m,"e-0$1"),r.alternate&&(t=p.call(t,g,"$1."),t=p.call(t,y,"$1.e")),e>=0&&r.sign&&(t=r.sign+t),t=r.specifier===f.call(r.specifier)?f.call(t):l.call(t)}function b(e){var r,n="";for(r=0;r<e;r++)n+=" ";return n}var x=String.fromCharCode,E=Array.isArray;function S(e){return e!=e}function T(e){var r={};return r.specifier=e.specifier,r.precision=void 0===e.precision?1:e.precision,r.width=e.width,r.flags=e.flags||"",r.mapping=e.mapping,r}function j(e){var r,t,i,a,c,l,f,p,s,m,g,y,v,d;if(!E(e))throw new TypeError("invalid argument. First argument must be an array. Value: `"+e+"`.");for(l="",f=1,s=0;s<e.length;s++)if(i=e[s],"string"==typeof i)l+=i;else{if(r=void 0!==i.precision,!(i=T(i)).specifier)throw new TypeError("invalid argument. Token is missing `specifier` property. Index: `"+s+"`. Value: `"+i+"`.");for(i.mapping&&(f=i.mapping),t=i.flags,m=0;m<t.length;m++)switch(a=t.charAt(m)){case" ":i.sign=" ";break;case"+":i.sign="+";break;case"-":i.padRight=!0,i.padZeros=!1;break;case"0":i.padZeros=t.indexOf("-")<0;break;case"#":i.alternate=!0;break;default:throw new Error("invalid flag: "+a)}if("*"===i.width){if(i.width=parseInt(arguments[f],10),f+=1,S(i.width))throw new TypeError("the argument for * width at position "+f+" is not a number. Value: `"+i.width+"`.");i.width<0&&(i.padRight=!0,i.width=-i.width)}if(r&&"*"===i.precision){if(i.precision=parseInt(arguments[f],10),f+=1,S(i.precision))throw new TypeError("the argument for * precision at position "+f+" is not a number. Value: `"+i.precision+"`.");i.precision<0&&(i.precision=1,r=!1)}switch(i.arg=arguments[f],i.specifier){case"b":case"o":case"x":case"X":case"d":case"i":case"u":r&&(i.padZeros=!1),i.arg=u(i);break;case"s":i.maxWidth=r?i.precision:-1,i.arg=String(i.arg);break;case"c":if(!S(i.arg)){if((c=parseInt(i.arg,10))<0||c>127)throw new Error("invalid character code. Value: "+i.arg);i.arg=S(c)?String(i.arg):x(c)}break;case"e":case"E":case"f":case"F":case"g":case"G":if(r||(i.precision=6),p=parseFloat(i.arg),!isFinite(p)){if(!n(i.arg))throw new Error("invalid floating-point number. Value: "+l);p=i.arg,i.padZeros=!1}i.arg=w(p,i);break;default:throw new Error("invalid specifier: "+i.specifier)}i.maxWidth>=0&&i.arg.length>i.maxWidth&&(i.arg=i.arg.substring(0,i.maxWidth)),i.padZeros?i.arg=o(i.arg,i.width||i.precision,i.padRight):i.width&&(i.arg=(g=i.arg,y=i.width,v=i.padRight,d=void 0,(d=y-g.length)<0?g:g=v?g+b(d):b(d)+g)),l+=i.arg||"",f+=1}return l}var V=/%(?:([1-9]\d*)\$)?([0 +\-#]*)(\*|\d+)?(?:(\.)(\*|\d+)?)?[hlL]?([%A-Za-z])/g;function A(e){var r={mapping:e[1]?parseInt(e[1],10):void 0,flags:e[2],width:e[3],precision:e[5],specifier:e[6]};return"."===e[4]&&void 0===e[5]&&(r.precision="1"),r}function N(e){var r,n,t,o;for(n=[],o=0,t=V.exec(e);t;)(r=e.slice(o,V.lastIndex-t[0].length)).length&&n.push(r),"%"===t[6]?n.push("%"):n.push(A(t)),o=V.lastIndex,t=V.exec(e);return(r=e.slice(o)).length&&n.push(r),n}function _(e){var r,n;if("string"!=typeof e)throw new TypeError(_("invalid argument. First argument must be a string. Value: `%s`.",e));for(r=[N(e)],n=1;n<arguments.length;n++)r.push(arguments[n]);return j.apply(null,r)}var F,O=Object.prototype,I=O.toString,k=O.__defineGetter__,C=O.__defineSetter__,P=O.__lookupGetter__,$=O.__lookupSetter__;F=function(){try{return e({},"x",{}),!0}catch(e){return!1}}()?r:function(e,r,n){var t,o,i,a;if("object"!=typeof e||null===e||"[object Array]"===I.call(e))throw new TypeError(_("invalid argument. First argument must be an object. Value: `%s`.",e));if("object"!=typeof n||null===n||"[object Array]"===I.call(n))throw new TypeError(_("invalid argument. Property descriptor must be an object. Value: `%s`.",n));if((o="value"in n)&&(P.call(e,r)||$.call(e,r)?(t=e.__proto__,e.__proto__=O,delete e[r],e[r]=n.value,e.__proto__=t):e[r]=n.value),i="get"in n,a="set"in n,o&&(i||a))throw new Error("invalid argument. Cannot specify one or more accessors and a value or writable attribute in the property descriptor.");return i&&k&&k.call(e,r,n.get),a&&C&&C.call(e,r,n.set),e};var R=F;function L(e,r,n){R(e,r,{configurable:!1,enumerable:!0,writable:!1,value:n})}var M=/./;function B(e,r,n){R(e,r,{configurable:!1,enumerable:!1,writable:!1,value:n})}function U(e){return"boolean"==typeof e}var W="function"==typeof Symbol&&"symbol"==typeof Symbol("foo");function Y(){return W&&"symbol"==typeof Symbol.toStringTag}var Z=Object.prototype.toString;var G=Object.prototype.hasOwnProperty;function q(e,r){return null!=e&&G.call(e,r)}var X,z="function"==typeof Symbol?Symbol:void 0,H="function"==typeof z?z.toStringTag:"";X=Y()?function(e){var r,n,t;if(null==e)return Z.call(e);n=e[H],r=q(e,H);try{e[H]=void 0}catch(r){return Z.call(e)}return t=Z.call(e),r?e[H]=n:delete e[H],t}:function(e){return Z.call(e)};var J=X,D=Boolean,K=Boolean.prototype.toString;var Q=Y();function ee(e){return"object"==typeof e&&(e instanceof D||(Q?function(e){try{return K.call(e),!0}catch(e){return!1}}(e):"[object Boolean]"===J(e)))}function re(e){return U(e)||ee(e)}B(re,"isPrimitive",U),B(re,"isObject",ee);var ne="object"==typeof self?self:null,te="object"==typeof window?window:null,oe="undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},ie="object"==typeof oe?oe:null,ae="object"==typeof globalThis?globalThis:null;var ue=function(e){if(arguments.length){if(!U(e))throw new TypeError(_("invalid argument. Must provide a boolean. Value: `%s`.",e));if(e)return new Function("return this;")()}if(ae)return ae;if(ne)return ne;if(te)return te;if(ie)return ie;throw new Error("unexpected error. Unable to resolve global object.")}(),ce=ue.document&&ue.document.childNodes,le=Int8Array;function fe(){return/^\s*function\s*([^(]*)/i}var pe=/^\s*function\s*([^(]*)/i;B(fe,"REGEXP",pe);var se=Array.isArray?Array.isArray:function(e){return"[object Array]"===J(e)};function me(e){return null!==e&&"object"==typeof e}var ge=function(e){if("function"!=typeof e)throw new TypeError(_("invalid argument. Must provide a function. Value: `%s`.",e));return function(r){var n,t;if(!se(r))return!1;if(0===(n=r.length))return!1;for(t=0;t<n;t++)if(!1===e(r[t]))return!1;return!0}}(me);function ye(e){var r,n,t,o;if(("Object"===(n=J(e).slice(8,-1))||"Error"===n)&&e.constructor){if("string"==typeof(t=e.constructor).name)return t.name;if(r=pe.exec(t.toString()))return r[1]}return me(o=e)&&(o._isBuffer||o.constructor&&"function"==typeof o.constructor.isBuffer&&o.constructor.isBuffer(o))?"Buffer":n}B(me,"isObjectLikeArray",ge);var ve="function"==typeof M||"object"==typeof le||"function"==typeof ce?function(e){return ye(e).toLowerCase()}:function(e){var r;return null===e?"null":"object"===(r=typeof e)?ye(e).toLowerCase():r};function de(e){return"function"===ve(e)}function he(e){return"number"==typeof e}var we=Number,be=we.prototype.toString;var xe=Y();function Ee(e){return"object"==typeof e&&(e instanceof we||(xe?function(e){try{return be.call(e),!0}catch(e){return!1}}(e):"[object Number]"===J(e)))}function Se(e){return he(e)||Ee(e)}B(Se,"isPrimitive",he),B(Se,"isObject",Ee);var Te=Number.POSITIVE_INFINITY,je=we.NEGATIVE_INFINITY,Ve=Math.floor;function Ae(e){return Ve(e)===e}function Ne(e){return e<Te&&e>je&&Ae(e)}function _e(e){return he(e)&&Ne(e)}function Fe(e){return Ee(e)&&Ne(e.valueOf())}function Oe(e){return _e(e)||Fe(e)}function Ie(e){return _e(e)&&e>=0}function ke(e){return Fe(e)&&e.valueOf()>=0}function Ce(e){return Ie(e)||ke(e)}B(Oe,"isPrimitive",_e),B(Oe,"isObject",Fe),B(Ce,"isPrimitive",Ie),B(Ce,"isObject",ke);var Pe="number";function $e(e){return"string"==typeof e}var Re=String.prototype.valueOf;var Le=Y();function Me(e){return"object"==typeof e&&(e instanceof String||(Le?function(e){try{return Re.call(e),!0}catch(e){return!1}}(e):"[object String]"===J(e)))}function Be(e){return $e(e)||Me(e)}B(Be,"isPrimitive",$e),B(Be,"isObject",Me);var Ue=/[-\/\\^$*+?.()|[\]{}]/g;var We=RegExp.prototype.exec;var Ye=Y();function Ze(e){return"object"==typeof e&&(e instanceof RegExp||(Ye?function(e){try{return We.call(e),!0}catch(e){return!1}}(e):"[object RegExp]"===J(e)))}function Ge(e,r,n){return e.replace(r,n)}function qe(e,r,n){if(!$e(e))throw new TypeError(_("invalid argument. First argument must be a string. Value: `%s`.",e));if($e(r))r=new RegExp(function(e){var r,n;if(!$e(e))throw new TypeError(_("invalid argument. Must provide a regular expression string. Value: `%s`.",e));if("/"===e[0])for(n=e.length-1;n>=0&&"/"!==e[n];n--);return void 0===n||n<=0?e.replace(Ue,"\\$&"):(r=(r=e.substring(1,n)).replace(Ue,"\\$&"),e=e[0]+r+e.substring(n))}(r),"g");else if(!Ze(r))throw new TypeError(_("invalid argument. Second argument must be a string or regular expression. Value: `%s`.",r));if(!$e(n)&&!de(n))throw new TypeError(_("invalid argument. Third argument must be a string or replacement function. Value: `%s`.",n));return Ge(e,r,n)}var Xe="number";var ze={};L(ze,"cast",(function(e,r,n){var t;if(!de(e))throw new TypeError(_("invalid argument. First argument must be a function. Value: `%s`.",e));if(!Ie(r))throw new TypeError(_("invalid argument. Second argument must be a nonnegative integer. Value: `%s`.",r));if(!de(n))throw new TypeError(_("invalid argument. Third argument must be a constructor function. Value: `%s`.",n));return t=[function(){var r=e();if(typeof r===Pe)return new n(r,0);return r},function(r){var t=e(r);if(typeof t===Pe)return new n(t,0);return t},function(r,t){var o=e(r,t);if(typeof o===Pe)return new n(o,0);return o},function(r,t,o){var i=e(r,t,o);if(typeof i===Pe)return new n(i,0);return i},function(r,t,o,i){var a=e(r,t,o,i);if(typeof a===Pe)return new n(a,0);return a},function(r,t,o,i,a){var u=e(r,t,o,i,a);if(typeof u===Pe)return new n(u,0);return u}],r<=5?t[r]:function(){var r,t,o;for(r=[],o=0;o<arguments.length;o++)r.push(arguments[o]);if(typeof(t=e.apply(null,r))===Pe)return new n(t,0);return t}})),L(ze,"parse",(function(e){var r,n,t,o,i=[],a="",u=[],c=[],l=!0,f=0,p=0;if("string"!=typeof e)return null;for(e=qe(e," ",""),o=0;o<e.length;o++)"+"!==e[o]&&"-"!==e[o]||0===o||"e"===e[o-1]?o===e.length-1&&(a+=e[o],c.push(a)):(c.push(a),a=""),a+=e[o];for(o=0;o<c.length;o++){if(r=!1,"i"===(t=c[o])[0]?(t=t.slice(1),r=!0):"i"===t[t.length-1]&&(t=t.slice(0,t.length-1),r=!0),n=we(t),isNaN(n)&&"NaN"!==t&&"+NaN"!==t&&"-NaN"!==t){l=!1;break}r?i.push(n):u.push(n)}if(!l)return null;for(o=0;o<u.length;o++)f+=u[o];for(o=0;o<i.length;o++)p+=i[o];return{re:f,im:p}})),L(ze,"wrap",(function(e,r,n){var t;if(!de(e))throw new TypeError(_("invalid argument. First argument must be a function. Value: `%s`.",e));if(!Ie(r))throw new TypeError(_("invalid argument. Second argument must be a nonnegative integer. Value: `%s`.",r));if(!de(n))throw new TypeError(_("invalid argument. Third argument must be a constructor function. Value: `%s`.",n));return t=[function(){return e()},function(r){typeof r===Xe&&(r=new n(r,0));return e(r)},function(r,t){typeof r===Xe&&(r=new n(r,0));typeof t===Xe&&(t=new n(t,0));return e(r,t)},function(r,t,o){typeof r===Xe&&(r=new n(r,0));typeof t===Xe&&(t=new n(t,0));typeof o===Xe&&(o=new n(o,0));return e(r,t,o)},function(r,t,o,i){typeof r===Xe&&(r=new n(r,0));typeof t===Xe&&(t=new n(t,0));typeof o===Xe&&(o=new n(o,0));typeof i===Xe&&(i=new n(i,0));return e(r,t,o,i)},function(r,t,o,i,a){typeof r===Xe&&(r=new n(r,0));typeof t===Xe&&(t=new n(t,0));typeof o===Xe&&(o=new n(o,0));typeof i===Xe&&(i=new n(i,0));typeof a===Xe&&(a=new n(a,0));return e(r,t,o,i,a)}],r<=5?t[r]:function(){var r,t,o;for(r=[],o=0;o<arguments.length;o++)typeof(t=arguments[o])===Xe&&(t=new n(t,0)),r.push(t);return e.apply(null,r)}}));var He="function"==typeof Math.fround?Math.fround:null,Je="function"==typeof Float32Array;var De="function"==typeof Float32Array?Float32Array:null;var Ke,Qe="function"==typeof Float32Array?Float32Array:void 0;Ke=function(){var e,r,n;if("function"!=typeof De)return!1;try{r=new De([1,3.14,-3.14,5e40]),n=r,e=(Je&&n instanceof Float32Array||"[object Float32Array]"===J(n))&&1===r[0]&&3.140000104904175===r[1]&&-3.140000104904175===r[2]&&r[3]===Te}catch(r){e=!1}return e}()?Qe:function(){throw new Error("not implemented")};var er=Ke,rr=new er(1);var nr="function"==typeof He?He:function(e){return rr[0]=e,rr[0]};function tr(e,r){if(!(this instanceof tr))throw new TypeError("invalid invocation. Constructor must be called with the `new` keyword.");if(!he(e))throw new TypeError(_("invalid argument. Real component must be a number. Value: `%s`.",e));if(!he(r))throw new TypeError(_("invalid argument. Imaginary component must be a number. Value: `%s`.",r));return R(this,"re",{configurable:!1,enumerable:!0,writable:!1,value:nr(e)}),R(this,"im",{configurable:!1,enumerable:!0,writable:!1,value:nr(r)}),this}function or(e,r){if(!(this instanceof or))throw new TypeError("invalid invocation. Constructor must be called with the `new` keyword.");if(!he(e))throw new TypeError(_("invalid argument. Real component must be a number. Value: `%s`.",e));if(!he(r))throw new TypeError(_("invalid argument. Imaginary component must be a number. Value: `%s`.",r));return R(this,"re",{configurable:!1,enumerable:!0,writable:!1,value:e}),R(this,"im",{configurable:!1,enumerable:!0,writable:!1,value:r}),this}B(tr,"BYTES_PER_ELEMENT",4),B(tr.prototype,"BYTES_PER_ELEMENT",4),B(tr.prototype,"byteLength",8),B(tr.prototype,"toString",(function(){var e=""+this.re;return this.im<0?e+=" - "+-this.im:e+=" + "+this.im,e+="i"})),B(tr.prototype,"toJSON",(function(){var e={type:"Complex64"};return e.re=this.re,e.im=this.im,e})),B(or,"BYTES_PER_ELEMENT",8),B(or.prototype,"BYTES_PER_ELEMENT",8),B(or.prototype,"byteLength",16),B(or.prototype,"toString",(function(){var e=""+this.re;return this.im<0?e+=" - "+-this.im:e+=" + "+this.im,e+="i"})),B(or.prototype,"toJSON",(function(){var e={type:"Complex128"};return e.re=this.re,e.im=this.im,e}));var ir={complex64:tr,complex128:or};function ar(e){return ir[e]||null}var ur={float64:"complex128",float32:"complex64"},cr=ar(ur.float64);function lr(e,r,n){var t;if(arguments.length>2){if(t=ar(ur[n]))return new t(e,r);throw new TypeError(_("invalid argument. Must provide a recognized data type. Value: `%s`.",n))}return new cr(e,r)}var fr={Complex64:"complex64",Complex128:"complex128"},pr=["complex64","complex128"];function sr(){return pr.slice()}var mr,gr=sr(),yr=[];for(mr=0;mr<gr.length;mr++)yr.push(ar(gr[mr]));var vr=gr.length;function dr(e){var r;for(r=0;r<vr;r++)if(e instanceof yr[r])return gr[r];return fr[ye(e)]||null}function hr(e){return e.re}function wr(e){return e.im}function br(e){return e!=e}var xr=2147483648,Er="function"==typeof Uint32Array;var Sr=4294967295,Tr="function"==typeof Uint32Array?Uint32Array:null;var jr,Vr="function"==typeof Uint32Array?Uint32Array:void 0;jr=function(){var e,r,n;if("function"!=typeof Tr)return!1;try{r=new Tr(r=[1,3.14,-3.14,4294967296,4294967297]),n=r,e=(Er&&n instanceof Uint32Array||"[object Uint32Array]"===J(n))&&1===r[0]&&3===r[1]&&4294967293===r[2]&&0===r[3]&&1===r[4]}catch(r){e=!1}return e}()?Vr:function(){throw new Error("not implemented")};var Ar=jr,Nr=new er(1),_r=new Ar(Nr.buffer);function Fr(e){return Nr[0]=e,_r[0]}function Or(e){return Math.abs(e)}function Ir(e){return e&xr?1+~e:(e|xr)>>>0}function kr(e,r,n){return t=nr(e),o=nr(r),(br(t)||br(o)?NaN:(i=Fr(t),a=Fr(o),Or((i=Ir(i))-(a=Ir(a)))))<=n;var t,o,i,a}function Cr(e){var r=new er(2);return r[0]=e.re,r[1]=e.im,r}function Pr(e,r){return e===r?0!==e||1/e==1/r:e!=e&&r!=r}function $r(e,r){return e===r||e!=e&&r!=r}var Rr={};function Lr(e,r){var n=hr(e),t=hr(r),o=wr(e),i=wr(r),a=nr(n*t)-nr(o*i),u=nr(n*i)+nr(o*t);return new tr(nr(a),nr(u))}function Mr(e,r){return new tr(nr(hr(r)*e),nr(wr(r)*e))}L(Rr,"isAlmostEqual",(function(e,r,n){var t=Cr(e),o=Cr(r);return kr(t[0],o[0],n)&&kr(t[1],o[1],n)})),L(Rr,"isEqual",(function(e,r){var n=Cr(e),t=Cr(r);return n[0]===t[0]&&n[1]===t[1]})),L(Rr,"isNotEqual",(function(e,r){var n=Cr(e),t=Cr(r);return n[0]!==t[0]||n[1]!==t[1]})),L(Rr,"isSameValue",(function(e,r){var n=Cr(e),t=Cr(r);return Pr(n[0],t[0])&&Pr(n[1],t[1])})),L(Rr,"isSameValueZero",(function(e,r){var n=Cr(e),t=Cr(r);return $r(n[0],t[0])&&$r(n[1],t[1])})),B(Lr,"assign",(function(e,r,n,t,o,i,a){return o[a]=nr(e*n)-nr(r*t),o[a+i]=nr(e*t)+nr(r*n),o})),B(Lr,"strided",(function(e,r,n,t,o,i,a,u,c){var l=e[n],f=e[n+r],p=t[i],s=t[i+o];return a[c]=nr(l*p)-nr(f*s),a[c+u]=nr(l*s)+nr(f*p),a})),B(Mr,"assign",(function(e,r,n,t,o,i){return t[i]=nr(r*e),t[i+o]=nr(n*e),t})),B(Mr,"strided",(function(e,r,n,t,o,i,a){return o[a]=nr(e*r[t]),o[a+i]=nr(e*r[t+n]),o}));var Br={};L(Br,"add",(function(e,r){return new tr(nr(hr(e)+hr(r)),nr(wr(e)+wr(r)))})),L(Br,"assert",Rr),L(Br,"identity",(function(e){return e})),L(Br,"mul",Lr),L(Br,"neg",(function(e){return new tr(-hr(e),-wr(e))})),L(Br,"scale",Mr),L(Br,"sub",(function(e,r){return new tr(nr(hr(e)-hr(r)),nr(wr(e)-wr(r)))}));var Ur={};function Wr(e){return e.re}function Yr(e){return e.im}function Zr(e,r){return new or(Wr(e)+Wr(r),Yr(e)+Yr(r))}L(Ur,"base",Br),L(Ur,"conj",(function(e){return new e.constructor(e.re,-e.im)})),L(Ur,"Complex64",tr),L(Ur,"imag",wr),L(Ur,"parseComplex64",(function(e){var r,n,t=0;if(!$e(e))throw new TypeError(_("invalid argument. First argument must be a string. Value: `%s`.",e));if(!(r=Ge(e,/\s/g,"").match(/^([-+]?(\d*\.?\d*(?:[eE][-+]?\d+)?|Infinity|NaN)i?)?([-+])?((\d*\.?\d*(?:[eE][-+]?\d+)?|Infinity|NaN)i)?$/)))throw new Error(_("invalid argument. Unable to parse input string as a complex number. Value: `%s`.",e));return n=r[1]&&!r[1].endsWith("i")?parseFloat(r[1]):0,r[4]?t=("-"===r[3]?-1:1)*parseFloat(Ge(r[4],/i$/,"")):r[1]&&r[1].endsWith("i")&&(t=parseFloat(Ge(r[1],/i$/,""))),new tr(n,t)})),L(Ur,"real",hr),L(Ur,"reim",Cr),L(Ur,"reviveComplex64",(function(e,r){return r&&r.type&&"Complex64"===r.type&&he(r.re)&&he(r.im)?new tr(r.re,r.im):r})),B(Zr,"assign",(function(e,r,n,t,o,i,a){return o[a]=e+n,o[a+i]=r+t,o})),B(Zr,"strided",(function(e,r,n,t,o,i,a,u,c){return a[c]=e[n]+t[i],a[c+u]=e[n+r]+t[i+o],a}));var Gr="function"==typeof Float64Array;var qr="function"==typeof Float64Array?Float64Array:null;var Xr,zr="function"==typeof Float64Array?Float64Array:void 0;Xr=function(){var e,r,n;if("function"!=typeof qr)return!1;try{r=new qr([1,3.14,-3.14,NaN]),n=r,e=(Gr&&n instanceof Float64Array||"[object Float64Array]"===J(n))&&1===r[0]&&3.14===r[1]&&-3.14===r[2]&&r[3]!=r[3]}catch(r){e=!1}return e}()?zr:function(){throw new Error("not implemented")};var Hr=Xr;function Jr(e){var r=new Hr(2);return r[0]=e.re,r[1]=e.im,r}function Dr(e,r){return e===r?0!==e||1/e==1/r:e!=e&&r!=r}function Kr(e,r){return e===r||e!=e&&r!=r}var Qr={};function en(e){return e!=e}function rn(e,r){return en(e)||en(r)?NaN:e===Te||r===Te?Te:e===r&&0===e?function(e){return 0===e&&1/e===Te}(e)?e:r:e>r?e:r}L(Qr,"isEqual",(function(e,r){var n=Jr(e),t=Jr(r);return n[0]===t[0]&&n[1]===t[1]})),L(Qr,"isNotEqual",(function(e,r){var n=Jr(e),t=Jr(r);return n[0]!==t[0]||n[1]!==t[1]})),L(Qr,"isSameValue",(function(e,r){var n=Jr(e),t=Jr(r);return Dr(n[0],t[0])&&Dr(n[1],t[1])})),L(Qr,"isSameValueZero",(function(e,r){var n=Jr(e),t=Jr(r);return Kr(n[0],t[0])&&Kr(n[1],t[1])}));function nn(e,r,n,t,o,i){var a;return 0===o?(e+t*(r/n))*i:0===(a=r*o)?e*i+r*i*o:(e+a)*i}function tn(e,r,n,t){var o,i,a;return a=1/(n+t*(i=t/n)),(o=[0,0])[0]=nn(e,r,n,t,i,a),o[1]=nn(r,-e,n,t,i,a),o}var on=8988465674311579e292,an=2004168360008973e-307,un=2/4930380657631324e-47;function cn(e,r,n,t,o,i,a){var u,c,l,f;return c=rn(Or(e),Or(r)),l=rn(Or(n),Or(t)),f=1,c>=on?(e*=.5,r*=.5,f*=2):c<=an&&(e*=un,r*=un,f/=un),l>=on?(n*=.5,t*=.5,f*=.5):l<=an&&(n*=un,t*=un,f*=un),Or(t)<=Or(n)?u=tn(e,r,n,t):(u=tn(r,e,t,n))[1]*=-1,u[0]*=f,u[1]*=f,o[a]=u[0],o[a+i]=u[1],o}var ln=new Hr(2);function fn(e,r){var n,t,o,i;return n=Wr(e),t=Wr(r),o=Yr(e),i=Yr(r),new or((ln=cn(n,o,t,i,ln,1,0))[0],ln[1])}function pn(e,r){var n=Wr(e),t=Wr(r),o=Yr(e),i=Yr(r);return new or(n*t-o*i,n*i+o*t)}function sn(e,r,n){var t=Wr(e),o=Yr(e),i=Wr(r),a=Yr(r);return new or(t*i-o*a+Wr(n),t*a+o*i+Yr(n))}function mn(e,r){return new or(Wr(r)*e,Yr(r)*e)}B(fn,"assign",cn),B(fn,"strided",(function(e,r,n,t,o,i,a,u,c){return cn(e[n],e[n+r],t[i],t[i+o],a,u,c)})),B(pn,"assign",(function(e,r,n,t,o,i,a){return o[a]=e*n-r*t,o[a+i]=e*t+r*n,o})),B(pn,"strided",(function(e,r,n,t,o,i,a,u,c){var l=e[n],f=e[n+r],p=t[i],s=t[i+o];return a[c]=l*p-f*s,a[c+u]=l*s+f*p,a})),B(sn,"assign",(function(e,r,n,t,o,i,a,u,c){return a[c]=e*n-r*t+o,a[c+u]=e*t+r*n+i,a})),B(sn,"strided",(function(e,r,n,t,o,i,a,u,c,l,f,p){var s=e[n],m=e[n+r],g=t[i],y=t[i+o],v=a[c],d=a[c+u];return l[p]=s*g-m*y+v,l[p+f]=s*y+m*g+d,l})),B(mn,"assign",(function(e,r,n,t,o,i){return t[i]=r*e,t[i+o]=n*e,t})),B(mn,"strided",(function(e,r,n,t,o,i,a){return o[a]=e*r[t],o[a+i]=e*r[t+n],o}));var gn={};L(gn,"add",Zr),L(gn,"assert",Qr),L(gn,"div",fn),L(gn,"identity",(function(e){return e})),L(gn,"mul",pn),L(gn,"muladd",sn),L(gn,"neg",(function(e){return new or(-Wr(e),-Yr(e))})),L(gn,"scale",mn),L(gn,"sub",(function(e,r){return new or(Wr(e)-Wr(r),Yr(e)-Yr(r))}));var yn={};function vn(e){return Object.keys(Object(e))}L(yn,"base",gn),L(yn,"conj",(function(e){return new or(Wr(e),-Yr(e))})),L(yn,"Complex128",or),L(yn,"imag",Yr),L(yn,"parseComplex128",(function(e){var r,n,t=0;if(!$e(e))throw new TypeError(_("invalid argument. First argument must be a string. Value: `%s`.",e));if(!(r=Ge(e,/\s/g,"").match(/^([-+]?(\d*\.?\d*(?:[eE][-+]?\d+)?|Infinity|NaN)i?)?([-+])?((\d*\.?\d*(?:[eE][-+]?\d+)?|Infinity|NaN)i)?$/)))throw new Error(_("invalid argument. Unable to parse input string as a complex number. Value: `%s`.",e));return n=r[1]&&!r[1].endsWith("i")?parseFloat(r[1]):0,r[4]?t=("-"===r[3]?-1:1)*parseFloat(Ge(r[4],/i$/,"")):r[1]&&r[1].endsWith("i")&&(t=parseFloat(Ge(r[1],/i$/,""))),new or(n,t)})),L(yn,"real",Wr),L(yn,"reim",Jr),L(yn,"reviveComplex128",(function(e,r){return r&&r.type&&"Complex128"===r.type&&he(r.re)&&he(r.im)?new or(r.re,r.im):r}));var dn=void 0!==Object.keys;function hn(e){return"[object Arguments]"===J(e)}var wn=function(){return hn(arguments)}();function bn(e){return he(e)&&en(e)}function xn(e){return Ee(e)&&en(e.valueOf())}function En(e){return bn(e)||xn(e)}B(En,"isPrimitive",bn),B(En,"isObject",xn);var Sn=Object.prototype.propertyIsEnumerable;var Tn=!Sn.call("beep","0");function jn(e,r){var n;return null!=e&&(!(n=Sn.call(e,r))&&Tn&&Be(e)?!bn(r=+r)&&_e(r)&&r>=0&&r<e.length:n)}var Vn=wn?hn:function(e){return null!==e&&"object"==typeof e&&!se(e)&&"number"==typeof e.length&&Ae(e.length)&&e.length>=0&&e.length<=Sr&&q(e,"callee")&&!jn(e,"callee")},An=Array.prototype.slice;var Nn=jn((function(){}),"prototype"),_n=!jn({toString:null},"toString"),Fn=9007199254740991;function On(e,r,n){var t,o,i;if(!(i=e,"object"==typeof i&&null!==i&&"number"==typeof i.length&&Ae(i.length)&&i.length>=0&&i.length<=Fn||$e(e)))throw new TypeError(_("invalid argument. First argument must be an array-like object. Value: `%s`.",e));if(0===(t=e.length))return-1;if(3===arguments.length){if(!_e(n))throw new TypeError(_("invalid argument. Third argument must be an integer. Value: `%s`.",n));if(n>=0){if(n>=t)return-1;o=n}else(o=t+n)<0&&(o=0)}else o=0;if(En(r)){for(;o<t;o++)if(En(e[o]))return o}else for(;o<t;o++)if(e[o]===r)return o;return-1}function In(e){return e.constructor&&e.constructor.prototype===e}var kn=["console","external","frame","frameElement","frames","innerHeight","innerWidth","outerHeight","outerWidth","pageXOffset","pageYOffset","parent","scrollLeft","scrollTop","scrollX","scrollY","self","webkitIndexedDB","webkitStorageInfo","window"],Cn="undefined"==typeof window?void 0:window;var Pn=function(){var e;if("undefined"===ve(Cn))return!1;for(e in Cn)try{-1===On(kn,e)&&q(Cn,e)&&null!==Cn[e]&&"object"===ve(Cn[e])&&In(Cn[e])}catch(e){return!0}return!1}(),$n="undefined"!=typeof window;var Rn,Ln=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"];Rn=dn?function(){return 2!==(vn(arguments)||"").length}(1,2)?function(e){return Vn(e)?vn(An.call(e)):vn(e)}:vn:function(e){var r,n,t,o,i,a,u;if(o=[],Vn(e)){for(u=0;u<e.length;u++)o.push(u.toString());return o}if("string"==typeof e){if(e.length>0&&!q(e,"0"))for(u=0;u<e.length;u++)o.push(u.toString())}else{if(!1==(t="function"==typeof e)&&!me(e))return o;n=Nn&&t}for(i in e)n&&"prototype"===i||!q(e,i)||o.push(String(i));if(_n)for(r=function(e){if(!1===$n&&!Pn)return In(e);try{return In(e)}catch(e){return!1}}(e),u=0;u<Ln.length;u++)a=Ln[u],r&&"constructor"===a||!q(e,a)||o.push(String(a));return o};var Mn=Rn,Bn={float64:{complex64:"complex128",complex128:"complex128"},float32:{complex64:"complex64",complex128:"complex128"},int32:{complex64:"complex128",complex128:"complex128"},int16:{complex64:"complex64",complex128:"complex128"},int8:{complex64:"complex64",complex128:"complex128"},uint32:{complex64:"complex128",complex128:"complex128"},uint16:{complex64:"complex64",complex128:"complex128"},uint8:{complex64:"complex64",complex128:"complex128"},uint8c:{complex64:"complex64",complex128:"complex128"},complex128:{float64:"complex128",float32:"complex128",int32:"complex128",int16:"complex128",int8:"complex128",uint32:"complex128",uint16:"complex128",uint8:"complex128",uint8c:"complex128",complex64:"complex128",complex128:"complex128"},complex64:{float64:"complex128",float32:"complex64",int32:"complex128",int16:"complex64",int8:"complex64",uint32:"complex128",uint16:"complex64",uint8:"complex64",uint8c:"complex64",complex64:"complex64",complex128:"complex128"}};function Un(e,r){var n;return 0===arguments.length?function(){var e,r,n,t,o,i,a,u,c;for(n={},r=(e=Mn(Bn)).length,c=0;c<r;c++){for(o=e[c],a=Bn[o],t={},u=0;u<r;u++)t[i=e[u]]=a[i];n[o]=t}return n}():q(Bn,e)&&q(n=Bn[e],r)?n[r]:null}var Wn={Complex128:or,Complex64:tr};function Yn(e,r){var n;return r&&r.type&&he(r.re)&&he(r.im)&&(n=Wn[r.type])?new n(r.re,r.im):r}var Zn={};L(Zn,"base",ze),L(Zn,"complex",lr),L(Zn,"ctors",ar),L(Zn,"dtype",dr),L(Zn,"dtypes",sr),L(Zn,"float32",Ur),L(Zn,"float64",yn),L(Zn,"promotionRules",Un),L(Zn,"reviveComplex",Yn);export{ze as base,lr as complex,ar as ctors,Zn as default,dr as dtype,sr as dtypes,Ur as float32,yn as float64,Un as promotionRules,Yn as reviveComplex};
//# sourceMappingURL=mod.js.map
