// Copyright (c) 2025 The Stdlib Authors. License is Apache-2.0: http://www.apache.org/licenses/LICENSE-2.0
/// <reference types="./mod.d.ts" />
var r="function"==typeof Object.defineProperty?Object.defineProperty:null;var e=Object.defineProperty;function n(r){return"number"==typeof r}function t(r){var e,n="";for(e=0;e<r;e++)n+="0";return n}function o(r,e,n){var o=!1,i=e-r.length;return i<0||(function(r){return"-"===r[0]}(r)&&(o=!0,r=r.substr(1)),r=n?r+t(i):t(i)+r,o&&(r="-"+r)),r}var i=String.prototype.toLowerCase,a=String.prototype.toUpperCase;function u(r){var e,t,u;switch(r.specifier){case"b":e=2;break;case"o":e=8;break;case"x":case"X":e=16;break;default:e=10}if(t=r.arg,u=parseInt(t,10),!isFinite(u)){if(!n(t))throw new Error("invalid integer. Value: "+t);u=0}return u<0&&("u"===r.specifier||10!==e)&&(u=4294967295+u+1),u<0?(t=(-u).toString(e),r.precision&&(t=o(t,r.precision,r.padRight)),t="-"+t):(t=u.toString(e),u||r.precision?r.precision&&(t=o(t,r.precision,r.padRight)):t="",r.sign&&(t=r.sign+t)),16===e&&(r.alternate&&(t="0x"+t),t=r.specifier===a.call(r.specifier)?a.call(t):i.call(t)),8===e&&r.alternate&&"0"!==t.charAt(0)&&(t="0"+t),t}var c=Math.abs,f=String.prototype.toLowerCase,l=String.prototype.toUpperCase,p=String.prototype.replace,s=/e\+(\d)$/,m=/e-(\d)$/,y=/^(\d+)$/,g=/^(\d+)e/,v=/\.0$/,w=/\.0*e/,d=/(\..*[^0])0*e/;function h(r,e){var n,t;switch(e.specifier){case"e":case"E":t=r.toExponential(e.precision);break;case"f":case"F":t=r.toFixed(e.precision);break;case"g":case"G":c(r)<1e-4?((n=e.precision)>0&&(n-=1),t=r.toExponential(n)):t=r.toPrecision(e.precision),e.alternate||(t=p.call(t,d,"$1e"),t=p.call(t,w,"e"),t=p.call(t,v,""));break;default:throw new Error("invalid double notation. Value: "+e.specifier)}return t=p.call(t,s,"e+0$1"),t=p.call(t,m,"e-0$1"),e.alternate&&(t=p.call(t,y,"$1."),t=p.call(t,g,"$1.e")),r>=0&&e.sign&&(t=e.sign+t),t=e.specifier===l.call(e.specifier)?l.call(t):f.call(t)}function b(r){var e,n="";for(e=0;e<r;e++)n+=" ";return n}var x=String.fromCharCode,E=Array.isArray;function A(r){return r!=r}function S(r){var e={};return e.specifier=r.specifier,e.precision=void 0===r.precision?1:r.precision,e.width=r.width,e.flags=r.flags||"",e.mapping=r.mapping,e}function j(r){var e,t,i,a,c,f,l,p,s,m,y,g,v,w;if(!E(r))throw new TypeError("invalid argument. First argument must be an array. Value: `"+r+"`.");for(f="",l=1,s=0;s<r.length;s++)if(i=r[s],"string"==typeof i)f+=i;else{if(e=void 0!==i.precision,!(i=S(i)).specifier)throw new TypeError("invalid argument. Token is missing `specifier` property. Index: `"+s+"`. Value: `"+i+"`.");for(i.mapping&&(l=i.mapping),t=i.flags,m=0;m<t.length;m++)switch(a=t.charAt(m)){case" ":i.sign=" ";break;case"+":i.sign="+";break;case"-":i.padRight=!0,i.padZeros=!1;break;case"0":i.padZeros=t.indexOf("-")<0;break;case"#":i.alternate=!0;break;default:throw new Error("invalid flag: "+a)}if("*"===i.width){if(i.width=parseInt(arguments[l],10),l+=1,A(i.width))throw new TypeError("the argument for * width at position "+l+" is not a number. Value: `"+i.width+"`.");i.width<0&&(i.padRight=!0,i.width=-i.width)}if(e&&"*"===i.precision){if(i.precision=parseInt(arguments[l],10),l+=1,A(i.precision))throw new TypeError("the argument for * precision at position "+l+" is not a number. Value: `"+i.precision+"`.");i.precision<0&&(i.precision=1,e=!1)}switch(i.arg=arguments[l],i.specifier){case"b":case"o":case"x":case"X":case"d":case"i":case"u":e&&(i.padZeros=!1),i.arg=u(i);break;case"s":i.maxWidth=e?i.precision:-1,i.arg=String(i.arg);break;case"c":if(!A(i.arg)){if((c=parseInt(i.arg,10))<0||c>127)throw new Error("invalid character code. Value: "+i.arg);i.arg=A(c)?String(i.arg):x(c)}break;case"e":case"E":case"f":case"F":case"g":case"G":if(e||(i.precision=6),p=parseFloat(i.arg),!isFinite(p)){if(!n(i.arg))throw new Error("invalid floating-point number. Value: "+f);p=i.arg,i.padZeros=!1}i.arg=h(p,i);break;default:throw new Error("invalid specifier: "+i.specifier)}i.maxWidth>=0&&i.arg.length>i.maxWidth&&(i.arg=i.arg.substring(0,i.maxWidth)),i.padZeros?i.arg=o(i.arg,i.width||i.precision,i.padRight):i.width&&(i.arg=(y=i.arg,g=i.width,v=i.padRight,w=void 0,(w=g-y.length)<0?y:y=v?y+b(w):b(w)+y)),f+=i.arg||"",l+=1}return f}var T=/%(?:([1-9]\d*)\$)?([0 +\-#]*)(\*|\d+)?(?:(\.)(\*|\d+)?)?[hlL]?([%A-Za-z])/g;function V(r){var e={mapping:r[1]?parseInt(r[1],10):void 0,flags:r[2],width:r[3],precision:r[5],specifier:r[6]};return"."===r[4]&&void 0===r[5]&&(e.precision="1"),e}function N(r){var e,n,t,o;for(n=[],o=0,t=T.exec(r);t;)(e=r.slice(o,T.lastIndex-t[0].length)).length&&n.push(e),"%"===t[6]?n.push("%"):n.push(V(t)),o=T.lastIndex,t=T.exec(r);return(e=r.slice(o)).length&&n.push(e),n}function _(r){var e,n;if("string"!=typeof r)throw new TypeError(_("invalid argument. First argument must be a string. Value: `%s`.",r));for(e=[N(r)],n=1;n<arguments.length;n++)e.push(arguments[n]);return j.apply(null,e)}var F,O=Object.prototype,I=O.toString,k=O.__defineGetter__,C=O.__defineSetter__,U=O.__lookupGetter__,P=O.__lookupSetter__;F=function(){try{return r({},"x",{}),!0}catch(r){return!1}}()?e:function(r,e,n){var t,o,i,a;if("object"!=typeof r||null===r||"[object Array]"===I.call(r))throw new TypeError(_("invalid argument. First argument must be an object. Value: `%s`.",r));if("object"!=typeof n||null===n||"[object Array]"===I.call(n))throw new TypeError(_("invalid argument. Property descriptor must be an object. Value: `%s`.",n));if((o="value"in n)&&(U.call(r,e)||P.call(r,e)?(t=r.__proto__,r.__proto__=O,delete r[e],r[e]=n.value,r.__proto__=t):r[e]=n.value),i="get"in n,a="set"in n,o&&(i||a))throw new Error("invalid argument. Cannot specify one or more accessors and a value or writable attribute in the property descriptor.");return i&&k&&k.call(r,e,n.get),a&&C&&C.call(r,e,n.set),r};var $=F;function R(r,e,n){$(r,e,{configurable:!1,enumerable:!0,writable:!1,value:n})}var L=/./;function M(r,e,n){$(r,e,{configurable:!1,enumerable:!1,writable:!1,value:n})}function B(r){return"boolean"==typeof r}var W="function"==typeof Symbol&&"symbol"==typeof Symbol("foo");function G(){return W&&"symbol"==typeof Symbol.toStringTag}var Y=Object.prototype.toString;var Z=Object.prototype.hasOwnProperty;function q(r,e){return null!=r&&Z.call(r,e)}var H,X="function"==typeof Symbol?Symbol:void 0,z="function"==typeof X?X.toStringTag:"";H=G()?function(r){var e,n,t;if(null==r)return Y.call(r);n=r[z],e=q(r,z);try{r[z]=void 0}catch(e){return Y.call(r)}return t=Y.call(r),e?r[z]=n:delete r[z],t}:function(r){return Y.call(r)};var J=H,D=Boolean,K=Boolean.prototype.toString;var Q=G();function rr(r){return"object"==typeof r&&(r instanceof D||(Q?function(r){try{return K.call(r),!0}catch(r){return!1}}(r):"[object Boolean]"===J(r)))}function er(r){return B(r)||rr(r)}M(er,"isPrimitive",B),M(er,"isObject",rr);var nr="object"==typeof self?self:null,tr="object"==typeof window?window:null,or="undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},ir="object"==typeof or?or:null,ar="object"==typeof globalThis?globalThis:null;var ur=function(r){if(arguments.length){if(!B(r))throw new TypeError(_("invalid argument. Must provide a boolean. Value: `%s`.",r));if(r)return new Function("return this;")()}if(ar)return ar;if(nr)return nr;if(tr)return tr;if(ir)return ir;throw new Error("unexpected error. Unable to resolve global object.")}(),cr=ur.document&&ur.document.childNodes,fr=Int8Array;function lr(){return/^\s*function\s*([^(]*)/i}var pr=/^\s*function\s*([^(]*)/i;M(lr,"REGEXP",pr);var sr=Array.isArray?Array.isArray:function(r){return"[object Array]"===J(r)};function mr(r){return null!==r&&"object"==typeof r}var yr=function(r){if("function"!=typeof r)throw new TypeError(_("invalid argument. Must provide a function. Value: `%s`.",r));return function(e){var n,t;if(!sr(e))return!1;if(0===(n=e.length))return!1;for(t=0;t<n;t++)if(!1===r(e[t]))return!1;return!0}}(mr);function gr(r){var e,n,t,o;if(("Object"===(n=J(r).slice(8,-1))||"Error"===n)&&r.constructor){if("string"==typeof(t=r.constructor).name)return t.name;if(e=pr.exec(t.toString()))return e[1]}return mr(o=r)&&(o._isBuffer||o.constructor&&"function"==typeof o.constructor.isBuffer&&o.constructor.isBuffer(o))?"Buffer":n}M(mr,"isObjectLikeArray",yr);var vr="function"==typeof L||"object"==typeof fr||"function"==typeof cr?function(r){return gr(r).toLowerCase()}:function(r){var e;return null===r?"null":"object"===(e=typeof r)?gr(r).toLowerCase():e};function wr(r){return"function"===vr(r)}function dr(r){return"number"==typeof r}var hr=Number,br=hr.prototype.toString;var xr=G();function Er(r){return"object"==typeof r&&(r instanceof hr||(xr?function(r){try{return br.call(r),!0}catch(r){return!1}}(r):"[object Number]"===J(r)))}function Ar(r){return dr(r)||Er(r)}M(Ar,"isPrimitive",dr),M(Ar,"isObject",Er);var Sr=Number.POSITIVE_INFINITY,jr=hr.NEGATIVE_INFINITY,Tr=Math.floor;function Vr(r){return Tr(r)===r}function Nr(r){return r<Sr&&r>jr&&Vr(r)}function _r(r){return dr(r)&&Nr(r)}function Fr(r){return Er(r)&&Nr(r.valueOf())}function Or(r){return _r(r)||Fr(r)}function Ir(r){return _r(r)&&r>=0}function kr(r){return Fr(r)&&r.valueOf()>=0}function Cr(r){return Ir(r)||kr(r)}M(Or,"isPrimitive",_r),M(Or,"isObject",Fr),M(Cr,"isPrimitive",Ir),M(Cr,"isObject",kr);var Ur="number";function Pr(r){return"string"==typeof r}var $r=String.prototype.valueOf;var Rr=G();function Lr(r){return"object"==typeof r&&(r instanceof String||(Rr?function(r){try{return $r.call(r),!0}catch(r){return!1}}(r):"[object String]"===J(r)))}function Mr(r){return Pr(r)||Lr(r)}M(Mr,"isPrimitive",Pr),M(Mr,"isObject",Lr);var Br=/[-\/\\^$*+?.()|[\]{}]/g;var Wr=RegExp.prototype.exec;var Gr=G();function Yr(r){return"object"==typeof r&&(r instanceof RegExp||(Gr?function(r){try{return Wr.call(r),!0}catch(r){return!1}}(r):"[object RegExp]"===J(r)))}function Zr(r,e,n){return r.replace(e,n)}function qr(r,e,n){if(!Pr(r))throw new TypeError(_("invalid argument. First argument must be a string. Value: `%s`.",r));if(Pr(e))e=new RegExp(function(r){var e,n;if(!Pr(r))throw new TypeError(_("invalid argument. Must provide a regular expression string. Value: `%s`.",r));if("/"===r[0])for(n=r.length-1;n>=0&&"/"!==r[n];n--);return void 0===n||n<=0?r.replace(Br,"\\$&"):(e=(e=r.substring(1,n)).replace(Br,"\\$&"),r=r[0]+e+r.substring(n))}(e),"g");else if(!Yr(e))throw new TypeError(_("invalid argument. Second argument must be a string or regular expression. Value: `%s`.",e));if(!Pr(n)&&!wr(n))throw new TypeError(_("invalid argument. Third argument must be a string or replacement function. Value: `%s`.",n));return Zr(r,e,n)}var Hr="number";var Xr={};R(Xr,"cast",(function(r,e,n){var t;if(!wr(r))throw new TypeError(_("invalid argument. First argument must be a function. Value: `%s`.",r));if(!Ir(e))throw new TypeError(_("invalid argument. Second argument must be a nonnegative integer. Value: `%s`.",e));if(!wr(n))throw new TypeError(_("invalid argument. Third argument must be a constructor function. Value: `%s`.",n));return t=[function(){var e=r();if(typeof e===Ur)return new n(e,0);return e},function(e){var t=r(e);if(typeof t===Ur)return new n(t,0);return t},function(e,t){var o=r(e,t);if(typeof o===Ur)return new n(o,0);return o},function(e,t,o){var i=r(e,t,o);if(typeof i===Ur)return new n(i,0);return i},function(e,t,o,i){var a=r(e,t,o,i);if(typeof a===Ur)return new n(a,0);return a},function(e,t,o,i,a){var u=r(e,t,o,i,a);if(typeof u===Ur)return new n(u,0);return u}],e<=5?t[e]:function(){var e,t,o;for(e=[],o=0;o<arguments.length;o++)e.push(arguments[o]);if(typeof(t=r.apply(null,e))===Ur)return new n(t,0);return t}})),R(Xr,"parse",(function(r){var e,n,t,o,i=[],a="",u=[],c=[],f=!0,l=0,p=0;if("string"!=typeof r)return null;for(r=qr(r," ",""),o=0;o<r.length;o++)"+"!==r[o]&&"-"!==r[o]||0===o||"e"===r[o-1]?o===r.length-1&&(a+=r[o],c.push(a)):(c.push(a),a=""),a+=r[o];for(o=0;o<c.length;o++){if(e=!1,"i"===(t=c[o])[0]?(t=t.slice(1),e=!0):"i"===t[t.length-1]&&(t=t.slice(0,t.length-1),e=!0),n=hr(t),isNaN(n)&&"NaN"!==t&&"+NaN"!==t&&"-NaN"!==t){f=!1;break}e?i.push(n):u.push(n)}if(!f)return null;for(o=0;o<u.length;o++)l+=u[o];for(o=0;o<i.length;o++)p+=i[o];return{re:l,im:p}})),R(Xr,"wrap",(function(r,e,n){var t;if(!wr(r))throw new TypeError(_("invalid argument. First argument must be a function. Value: `%s`.",r));if(!Ir(e))throw new TypeError(_("invalid argument. Second argument must be a nonnegative integer. Value: `%s`.",e));if(!wr(n))throw new TypeError(_("invalid argument. Third argument must be a constructor function. Value: `%s`.",n));return t=[function(){return r()},function(e){typeof e===Hr&&(e=new n(e,0));return r(e)},function(e,t){typeof e===Hr&&(e=new n(e,0));typeof t===Hr&&(t=new n(t,0));return r(e,t)},function(e,t,o){typeof e===Hr&&(e=new n(e,0));typeof t===Hr&&(t=new n(t,0));typeof o===Hr&&(o=new n(o,0));return r(e,t,o)},function(e,t,o,i){typeof e===Hr&&(e=new n(e,0));typeof t===Hr&&(t=new n(t,0));typeof o===Hr&&(o=new n(o,0));typeof i===Hr&&(i=new n(i,0));return r(e,t,o,i)},function(e,t,o,i,a){typeof e===Hr&&(e=new n(e,0));typeof t===Hr&&(t=new n(t,0));typeof o===Hr&&(o=new n(o,0));typeof i===Hr&&(i=new n(i,0));typeof a===Hr&&(a=new n(a,0));return r(e,t,o,i,a)}],e<=5?t[e]:function(){var e,t,o;for(e=[],o=0;o<arguments.length;o++)typeof(t=arguments[o])===Hr&&(t=new n(t,0)),e.push(t);return r.apply(null,e)}}));var zr="function"==typeof Math.fround?Math.fround:null,Jr="function"==typeof Float32Array;var Dr="function"==typeof Float32Array?Float32Array:null;var Kr,Qr="function"==typeof Float32Array?Float32Array:void 0;Kr=function(){var r,e,n;if("function"!=typeof Dr)return!1;try{e=new Dr([1,3.14,-3.14,5e40]),n=e,r=(Jr&&n instanceof Float32Array||"[object Float32Array]"===J(n))&&1===e[0]&&3.140000104904175===e[1]&&-3.140000104904175===e[2]&&e[3]===Sr}catch(e){r=!1}return r}()?Qr:function(){throw new Error("not implemented")};var re=Kr,ee=new re(1);var ne="function"==typeof zr?zr:function(r){return ee[0]=r,ee[0]};function te(r,e){if(!(this instanceof te))throw new TypeError("invalid invocation. Constructor must be called with the `new` keyword.");if(!dr(r))throw new TypeError(_("invalid argument. Real component must be a number. Value: `%s`.",r));if(!dr(e))throw new TypeError(_("invalid argument. Imaginary component must be a number. Value: `%s`.",e));return $(this,"re",{configurable:!1,enumerable:!0,writable:!1,value:ne(r)}),$(this,"im",{configurable:!1,enumerable:!0,writable:!1,value:ne(e)}),this}function oe(r,e){if(!(this instanceof oe))throw new TypeError("invalid invocation. Constructor must be called with the `new` keyword.");if(!dr(r))throw new TypeError(_("invalid argument. Real component must be a number. Value: `%s`.",r));if(!dr(e))throw new TypeError(_("invalid argument. Imaginary component must be a number. Value: `%s`.",e));return $(this,"re",{configurable:!1,enumerable:!0,writable:!1,value:r}),$(this,"im",{configurable:!1,enumerable:!0,writable:!1,value:e}),this}M(te,"BYTES_PER_ELEMENT",4),M(te.prototype,"BYTES_PER_ELEMENT",4),M(te.prototype,"byteLength",8),M(te.prototype,"toString",(function(){var r=""+this.re;return this.im<0?r+=" - "+-this.im:r+=" + "+this.im,r+="i"})),M(te.prototype,"toJSON",(function(){var r={type:"Complex64"};return r.re=this.re,r.im=this.im,r})),M(oe,"BYTES_PER_ELEMENT",8),M(oe.prototype,"BYTES_PER_ELEMENT",8),M(oe.prototype,"byteLength",16),M(oe.prototype,"toString",(function(){var r=""+this.re;return this.im<0?r+=" - "+-this.im:r+=" + "+this.im,r+="i"})),M(oe.prototype,"toJSON",(function(){var r={type:"Complex128"};return r.re=this.re,r.im=this.im,r}));var ie={complex64:te,complex128:oe};function ae(r){return ie[r]||null}var ue={float64:"complex128",float32:"complex64"},ce=ae(ue.float64);function fe(r,e,n){var t;if(arguments.length>2){if(t=ae(ue[n]))return new t(r,e);throw new TypeError(_("invalid argument. Must provide a recognized data type. Value: `%s`.",n))}return new ce(r,e)}var le={Complex64:"complex64",Complex128:"complex128"},pe=["complex64","complex128"];function se(){return pe.slice()}var me,ye=se(),ge=[];for(me=0;me<ye.length;me++)ge.push(ae(ye[me]));var ve=ye.length;function we(r){var e;for(e=0;e<ve;e++)if(r instanceof ge[e])return ye[e];return le[gr(r)]||null}function de(r){return r.re}function he(r){return r.im}function be(r,e){return new te(ne(de(r)+de(e)),ne(he(r)+he(e)))}function xe(r){return r!=r}M(be,"assign",(function(r,e,n,t,o,i,a){return o[a]=ne(r+n),o[a+i]=ne(e+t),o})),M(be,"strided",(function(r,e,n,t,o,i,a,u,c){return a[c]=ne(r[n]+t[i]),a[c+u]=ne(r[n+e]+t[i+o]),a}));var Ee=2147483648,Ae="function"==typeof Uint32Array;var Se=4294967295,je="function"==typeof Uint32Array?Uint32Array:null;var Te,Ve="function"==typeof Uint32Array?Uint32Array:void 0;Te=function(){var r,e,n;if("function"!=typeof je)return!1;try{e=new je(e=[1,3.14,-3.14,4294967296,4294967297]),n=e,r=(Ae&&n instanceof Uint32Array||"[object Uint32Array]"===J(n))&&1===e[0]&&3===e[1]&&4294967293===e[2]&&0===e[3]&&1===e[4]}catch(e){r=!1}return r}()?Ve:function(){throw new Error("not implemented")};var Ne=Te,_e=new re(1),Fe=new Ne(_e.buffer);function Oe(r){return _e[0]=r,Fe[0]}function Ie(r){return Math.abs(r)}function ke(r){return r&Ee?1+~r:(r|Ee)>>>0}function Ce(r,e){var n,t;return xe(r)||xe(e)?NaN:(n=Oe(r),t=Oe(e),Ie((n=ke(n))-(t=ke(t))))}function Ue(r,e,n){return Ce(ne(r),ne(e))<=n}function Pe(r){var e=new re(2);return e[0]=r.re,e[1]=r.im,e}function $e(r,e){return r===e?0!==r||1/r==1/e:r!=r&&e!=e}function Re(r,e,n){return xe(r)||xe(e)||0===n?$e(r,e):Ce(r,e)<=n}function Le(r,e){return r===e||r!=r&&e!=e}var Me={};function Be(r,e){var n=de(r),t=de(e),o=he(r),i=he(e),a=ne(n*t)-ne(o*i),u=ne(n*i)+ne(o*t);return new te(ne(a),ne(u))}function We(r,e){return new te(ne(de(e)*r),ne(he(e)*r))}R(Me,"isAlmostEqual",(function(r,e,n){var t=Pe(r),o=Pe(e);return Ue(t[0],o[0],n)&&Ue(t[1],o[1],n)})),R(Me,"isAlmostSameValue",(function(r,e,n){var t=Pe(r),o=Pe(e);return Re(t[0],o[0],n)&&Re(t[1],o[1],n)})),R(Me,"isEqual",(function(r,e){var n=Pe(r),t=Pe(e);return n[0]===t[0]&&n[1]===t[1]})),R(Me,"isNotEqual",(function(r,e){var n=Pe(r),t=Pe(e);return n[0]!==t[0]||n[1]!==t[1]})),R(Me,"isSameValue",(function(r,e){var n=Pe(r),t=Pe(e);return $e(n[0],t[0])&&$e(n[1],t[1])})),R(Me,"isSameValueZero",(function(r,e){var n=Pe(r),t=Pe(e);return Le(n[0],t[0])&&Le(n[1],t[1])})),M(Be,"assign",(function(r,e,n,t,o,i,a){return o[a]=ne(r*n)-ne(e*t),o[a+i]=ne(r*t)+ne(e*n),o})),M(Be,"strided",(function(r,e,n,t,o,i,a,u,c){var f=r[n],l=r[n+e],p=t[i],s=t[i+o];return a[c]=ne(f*p)-ne(l*s),a[c+u]=ne(f*s)+ne(l*p),a})),M(We,"assign",(function(r,e,n,t,o,i){return t[i]=ne(e*r),t[i+o]=ne(n*r),t})),M(We,"strided",(function(r,e,n,t,o,i,a){return o[a]=ne(r*e[t]),o[a+i]=ne(r*e[t+n]),o}));var Ge={};R(Ge,"add",be),R(Ge,"assert",Me),R(Ge,"identity",(function(r){return r})),R(Ge,"mul",Be),R(Ge,"neg",(function(r){return new te(-de(r),-he(r))})),R(Ge,"scale",We),R(Ge,"sub",(function(r,e){return new te(ne(de(r)-de(e)),ne(he(r)-he(e)))}));var Ye={};function Ze(r){return r.re}function qe(r){return r.im}function He(r,e){return new oe(Ze(r)+Ze(e),qe(r)+qe(e))}function Xe(r){return r!=r}R(Ye,"base",Ge),R(Ye,"conj",(function(r){return new r.constructor(r.re,-r.im)})),R(Ye,"Complex64",te),R(Ye,"imag",he),R(Ye,"parseComplex64",(function(r){var e,n,t=0;if(!Pr(r))throw new TypeError(_("invalid argument. First argument must be a string. Value: `%s`.",r));if(!(e=Zr(r,/\s/g,"").match(/^([-+]?(\d*\.?\d*(?:[eE][-+]?\d+)?|Infinity|NaN)i?)?([-+])?((\d*\.?\d*(?:[eE][-+]?\d+)?|Infinity|NaN)i)?$/)))throw new Error(_("invalid argument. Unable to parse input string as a complex number. Value: `%s`.",r));return n=e[1]&&!e[1].endsWith("i")?parseFloat(e[1]):0,e[4]?t=("-"===e[3]?-1:1)*parseFloat(Zr(e[4],/i$/,"")):e[1]&&e[1].endsWith("i")&&(t=parseFloat(Zr(e[1],/i$/,""))),new te(n,t)})),R(Ye,"real",de),R(Ye,"reim",Pe),R(Ye,"reviveComplex64",(function(r,e){return e&&e.type&&"Complex64"===e.type&&dr(e.re)&&dr(e.im)?new te(e.re,e.im):e})),M(He,"assign",(function(r,e,n,t,o,i,a){return o[a]=r+n,o[a+i]=e+t,o})),M(He,"strided",(function(r,e,n,t,o,i,a,u,c){return a[c]=r[n]+t[i],a[c+u]=r[n+e]+t[i+o],a}));var ze=2147483648,Je="function"==typeof Float64Array;var De="function"==typeof Float64Array?Float64Array:null;var Ke,Qe="function"==typeof Float64Array?Float64Array:void 0;Ke=function(){var r,e,n;if("function"!=typeof De)return!1;try{e=new De([1,3.14,-3.14,NaN]),n=e,r=(Je&&n instanceof Float64Array||"[object Float64Array]"===J(n))&&1===e[0]&&3.14===e[1]&&-3.14===e[2]&&e[3]!=e[3]}catch(e){r=!1}return r}()?Qe:function(){throw new Error("not implemented")};var rn=Ke,en="function"==typeof Uint8Array;var nn="function"==typeof Uint8Array?Uint8Array:null;var tn,on="function"==typeof Uint8Array?Uint8Array:void 0;tn=function(){var r,e,n;if("function"!=typeof nn)return!1;try{e=new nn(e=[1,3.14,-3.14,256,257]),n=e,r=(en&&n instanceof Uint8Array||"[object Uint8Array]"===J(n))&&1===e[0]&&3===e[1]&&253===e[2]&&0===e[3]&&1===e[4]}catch(e){r=!1}return r}()?on:function(){throw new Error("not implemented")};var an=tn,un="function"==typeof Uint16Array;var cn="function"==typeof Uint16Array?Uint16Array:null;var fn,ln="function"==typeof Uint16Array?Uint16Array:void 0;fn=function(){var r,e,n;if("function"!=typeof cn)return!1;try{e=new cn(e=[1,3.14,-3.14,65536,65537]),n=e,r=(un&&n instanceof Uint16Array||"[object Uint16Array]"===J(n))&&1===e[0]&&3===e[1]&&65533===e[2]&&0===e[3]&&1===e[4]}catch(e){r=!1}return r}()?ln:function(){throw new Error("not implemented")};var pn,sn,mn,yn={uint16:fn,uint8:an};(pn=new yn.uint16(1))[0]=4660,!0===(52===new yn.uint8(pn.buffer)[0])?(sn=1,mn=0):(sn=0,mn=1);var gn={HIGH:sn,LOW:mn},vn=new rn(1),wn=new Ne(vn.buffer),dn=gn.HIGH,hn=gn.LOW;function bn(r,e,n,t){return vn[0]=r,e[t]=wn[dn],e[t+n]=wn[hn],e}M((function(r){return bn(r,[0,0],1,0)}),"assign",bn);var xn=new Ne(2),En=new Ne(2),An=new Ne(2),Sn=4294967296;function jn(r){return r[0]&ze?r=function(r){r[0]=~r[0],r[1]=~r[1],r[1]+=1,0===r[1]&&(r[0]+=1);return r}(r):r[0]|=ze,r}function Tn(r,e,n){var t,o,i,a;return t=r[0],i=r[1],o=e[0],i>=(a=e[1])?(n[0]=t-o,n[1]=i-a):(n[0]=t-o-1,n[1]=i+Sn-a),n}function Vn(r,e){var n,t,o,i,a,u;return Xe(r)||Xe(e)?NaN:(t=bn(r,xn,1,0),o=bn(e,En,1,0),t=jn(t),o=jn(o),u=o,0===(n=(a=t)[0]>u[0]?1:a[0]<u[0]?-1:a[1]>u[1]?1:a[1]<u[1]?-1:0)?0:(i=1===n?Tn(t,o,An):Tn(o,t,An))[0]*Sn+i[1])}function Nn(r,e,n){return Vn(r,e)<=n}function _n(r){var e=new rn(2);return e[0]=r.re,e[1]=r.im,e}function Fn(r,e){return r===e?0!==r||1/r==1/e:r!=r&&e!=e}function On(r,e,n){return Xe(r)||Xe(e)||0===n?Fn(r,e):Vn(r,e)<=n}function In(r,e){return r===e||r!=r&&e!=e}var kn={};function Cn(r,e){return Xe(r)||Xe(e)?NaN:r===Sr||e===Sr?Sr:r===e&&0===r?function(r){return 0===r&&1/r===Sr}(r)?r:e:r>e?r:e}R(kn,"isAlmostEqual",(function(r,e,n){var t=_n(r),o=_n(e);return Nn(t[0],o[0],n)&&Nn(t[1],o[1],n)})),R(kn,"isAlmostSameValue",(function(r,e,n){var t=_n(r),o=_n(e);return On(t[0],o[0],n)&&On(t[1],o[1],n)})),R(kn,"isEqual",(function(r,e){var n=_n(r),t=_n(e);return n[0]===t[0]&&n[1]===t[1]})),R(kn,"isNotEqual",(function(r,e){var n=_n(r),t=_n(e);return n[0]!==t[0]||n[1]!==t[1]})),R(kn,"isSameValue",(function(r,e){var n=_n(r),t=_n(e);return Fn(n[0],t[0])&&Fn(n[1],t[1])})),R(kn,"isSameValueZero",(function(r,e){var n=_n(r),t=_n(e);return In(n[0],t[0])&&In(n[1],t[1])}));function Un(r,e,n,t,o,i){var a;return 0===o?(r+t*(e/n))*i:0===(a=e*o)?r*i+e*i*o:(r+a)*i}function Pn(r,e,n,t){var o,i,a;return a=1/(n+t*(i=t/n)),(o=[0,0])[0]=Un(r,e,n,t,i,a),o[1]=Un(e,-r,n,t,i,a),o}var $n=8988465674311579e292,Rn=2004168360008973e-307,Ln=2/4930380657631324e-47;function Mn(r,e,n,t,o,i,a){var u,c,f,l;return c=Cn(Ie(r),Ie(e)),f=Cn(Ie(n),Ie(t)),l=1,c>=$n?(r*=.5,e*=.5,l*=2):c<=Rn&&(r*=Ln,e*=Ln,l/=Ln),f>=$n?(n*=.5,t*=.5,l*=.5):f<=Rn&&(n*=Ln,t*=Ln,l*=Ln),Ie(t)<=Ie(n)?u=Pn(r,e,n,t):(u=Pn(e,r,t,n))[1]*=-1,u[0]*=l,u[1]*=l,o[a]=u[0],o[a+i]=u[1],o}var Bn=new rn(2);function Wn(r,e){var n,t,o,i;return n=Ze(r),t=Ze(e),o=qe(r),i=qe(e),new oe((Bn=Mn(n,o,t,i,Bn,1,0))[0],Bn[1])}function Gn(r,e){var n=Ze(r),t=Ze(e),o=qe(r),i=qe(e);return new oe(n*t-o*i,n*i+o*t)}function Yn(r,e,n){var t=Ze(r),o=qe(r),i=Ze(e),a=qe(e);return new oe(t*i-o*a+Ze(n),t*a+o*i+qe(n))}function Zn(r,e){return new oe(Ze(e)*r,qe(e)*r)}M(Wn,"assign",Mn),M(Wn,"strided",(function(r,e,n,t,o,i,a,u,c){return Mn(r[n],r[n+e],t[i],t[i+o],a,u,c)})),M(Gn,"assign",(function(r,e,n,t,o,i,a){return o[a]=r*n-e*t,o[a+i]=r*t+e*n,o})),M(Gn,"strided",(function(r,e,n,t,o,i,a,u,c){var f=r[n],l=r[n+e],p=t[i],s=t[i+o];return a[c]=f*p-l*s,a[c+u]=f*s+l*p,a})),M(Yn,"assign",(function(r,e,n,t,o,i,a,u,c){return a[c]=r*n-e*t+o,a[c+u]=r*t+e*n+i,a})),M(Yn,"strided",(function(r,e,n,t,o,i,a,u,c,f,l,p){var s=r[n],m=r[n+e],y=t[i],g=t[i+o],v=a[c],w=a[c+u];return f[p]=s*y-m*g+v,f[p+l]=s*g+m*y+w,f})),M(Zn,"assign",(function(r,e,n,t,o,i){return t[i]=e*r,t[i+o]=n*r,t})),M(Zn,"strided",(function(r,e,n,t,o,i,a){return o[a]=r*e[t],o[a+i]=r*e[t+n],o}));var qn={};R(qn,"add",He),R(qn,"assert",kn),R(qn,"div",Wn),R(qn,"identity",(function(r){return r})),R(qn,"mul",Gn),R(qn,"muladd",Yn),R(qn,"neg",(function(r){return new oe(-Ze(r),-qe(r))})),R(qn,"scale",Zn),R(qn,"sub",(function(r,e){return new oe(Ze(r)-Ze(e),qe(r)-qe(e))}));var Hn={};function Xn(r){return Object.keys(Object(r))}R(Hn,"base",qn),R(Hn,"conj",(function(r){return new oe(Ze(r),-qe(r))})),R(Hn,"Complex128",oe),R(Hn,"imag",qe),R(Hn,"parseComplex128",(function(r){var e,n,t=0;if(!Pr(r))throw new TypeError(_("invalid argument. First argument must be a string. Value: `%s`.",r));if(!(e=Zr(r,/\s/g,"").match(/^([-+]?(\d*\.?\d*(?:[eE][-+]?\d+)?|Infinity|NaN)i?)?([-+])?((\d*\.?\d*(?:[eE][-+]?\d+)?|Infinity|NaN)i)?$/)))throw new Error(_("invalid argument. Unable to parse input string as a complex number. Value: `%s`.",r));return n=e[1]&&!e[1].endsWith("i")?parseFloat(e[1]):0,e[4]?t=("-"===e[3]?-1:1)*parseFloat(Zr(e[4],/i$/,"")):e[1]&&e[1].endsWith("i")&&(t=parseFloat(Zr(e[1],/i$/,""))),new oe(n,t)})),R(Hn,"real",Ze),R(Hn,"reim",_n),R(Hn,"reviveComplex128",(function(r,e){return e&&e.type&&"Complex128"===e.type&&dr(e.re)&&dr(e.im)?new oe(e.re,e.im):e}));var zn=void 0!==Object.keys;function Jn(r){return"[object Arguments]"===J(r)}var Dn=function(){return Jn(arguments)}();function Kn(r){return dr(r)&&Xe(r)}function Qn(r){return Er(r)&&Xe(r.valueOf())}function rt(r){return Kn(r)||Qn(r)}M(rt,"isPrimitive",Kn),M(rt,"isObject",Qn);var et=Object.prototype.propertyIsEnumerable;var nt=!et.call("beep","0");function tt(r,e){var n;return null!=r&&(!(n=et.call(r,e))&&nt&&Mr(r)?!Kn(e=+e)&&_r(e)&&e>=0&&e<r.length:n)}var ot=Dn?Jn:function(r){return null!==r&&"object"==typeof r&&!sr(r)&&"number"==typeof r.length&&Vr(r.length)&&r.length>=0&&r.length<=Se&&q(r,"callee")&&!tt(r,"callee")},it=Array.prototype.slice;var at=tt((function(){}),"prototype"),ut=!tt({toString:null},"toString"),ct=9007199254740991;function ft(r,e,n){var t,o,i;if(!(i=r,"object"==typeof i&&null!==i&&"number"==typeof i.length&&Vr(i.length)&&i.length>=0&&i.length<=ct||Pr(r)))throw new TypeError(_("invalid argument. First argument must be an array-like object. Value: `%s`.",r));if(0===(t=r.length))return-1;if(3===arguments.length){if(!_r(n))throw new TypeError(_("invalid argument. Third argument must be an integer. Value: `%s`.",n));if(n>=0){if(n>=t)return-1;o=n}else(o=t+n)<0&&(o=0)}else o=0;if(rt(e)){for(;o<t;o++)if(rt(r[o]))return o}else for(;o<t;o++)if(r[o]===e)return o;return-1}function lt(r){return r.constructor&&r.constructor.prototype===r}var pt=["console","external","frame","frameElement","frames","innerHeight","innerWidth","outerHeight","outerWidth","pageXOffset","pageYOffset","parent","scrollLeft","scrollTop","scrollX","scrollY","self","webkitIndexedDB","webkitStorageInfo","window"],st="undefined"==typeof window?void 0:window;var mt=function(){var r;if("undefined"===vr(st))return!1;for(r in st)try{-1===ft(pt,r)&&q(st,r)&&null!==st[r]&&"object"===vr(st[r])&&lt(st[r])}catch(r){return!0}return!1}(),yt="undefined"!=typeof window;var gt,vt=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"];gt=zn?function(){return 2!==(Xn(arguments)||"").length}(1,2)?function(r){return ot(r)?Xn(it.call(r)):Xn(r)}:Xn:function(r){var e,n,t,o,i,a,u;if(o=[],ot(r)){for(u=0;u<r.length;u++)o.push(u.toString());return o}if("string"==typeof r){if(r.length>0&&!q(r,"0"))for(u=0;u<r.length;u++)o.push(u.toString())}else{if(!1==(t="function"==typeof r)&&!mr(r))return o;n=at&&t}for(i in r)n&&"prototype"===i||!q(r,i)||o.push(String(i));if(ut)for(e=function(r){if(!1===yt&&!mt)return lt(r);try{return lt(r)}catch(r){return!1}}(r),u=0;u<vt.length;u++)a=vt[u],e&&"constructor"===a||!q(r,a)||o.push(String(a));return o};var wt=gt,dt={float64:{complex64:"complex128",complex128:"complex128"},float32:{complex64:"complex64",complex128:"complex128"},int32:{complex64:"complex128",complex128:"complex128"},int16:{complex64:"complex64",complex128:"complex128"},int8:{complex64:"complex64",complex128:"complex128"},uint32:{complex64:"complex128",complex128:"complex128"},uint16:{complex64:"complex64",complex128:"complex128"},uint8:{complex64:"complex64",complex128:"complex128"},uint8c:{complex64:"complex64",complex128:"complex128"},complex128:{float64:"complex128",float32:"complex128",int32:"complex128",int16:"complex128",int8:"complex128",uint32:"complex128",uint16:"complex128",uint8:"complex128",uint8c:"complex128",complex64:"complex128",complex128:"complex128"},complex64:{float64:"complex128",float32:"complex64",int32:"complex128",int16:"complex64",int8:"complex64",uint32:"complex128",uint16:"complex64",uint8:"complex64",uint8c:"complex64",complex64:"complex64",complex128:"complex128"}};function ht(r,e){var n;return 0===arguments.length?function(){var r,e,n,t,o,i,a,u,c;for(n={},e=(r=wt(dt)).length,c=0;c<e;c++){for(o=r[c],a=dt[o],t={},u=0;u<e;u++)t[i=r[u]]=a[i];n[o]=t}return n}():q(dt,r)&&q(n=dt[r],e)?n[e]:null}var bt={Complex128:oe,Complex64:te};function xt(r,e){var n;return e&&e.type&&dr(e.re)&&dr(e.im)&&(n=bt[e.type])?new n(e.re,e.im):e}var Et={};R(Et,"base",Xr),R(Et,"complex",fe),R(Et,"ctors",ae),R(Et,"dtype",we),R(Et,"dtypes",se),R(Et,"float32",Ye),R(Et,"float64",Hn),R(Et,"promotionRules",ht),R(Et,"reviveComplex",xt);export{Xr as base,fe as complex,ae as ctors,Et as default,we as dtype,se as dtypes,Ye as float32,Hn as float64,ht as promotionRules,xt as reviveComplex};
//# sourceMappingURL=mod.js.map
